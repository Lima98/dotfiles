"use strict";var _p=Object.create;var _t=Object.defineProperty;var Fp=Object.getOwnPropertyDescriptor;var Np=Object.getOwnPropertyNames;var Bp=Object.getPrototypeOf,jp=Object.prototype.hasOwnProperty;var u=(e,t)=>()=>(e&&(t=e(e=0)),t);var _=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Tn=(e,t)=>{for(var r in t)_t(e,r,{get:t[r],enumerable:!0})},es=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Np(t))!jp.call(e,o)&&o!==r&&_t(e,o,{get:()=>t[o],enumerable:!(n=Fp(t,o))||n.enumerable});return e};var O=(e,t,r)=>(r=e!=null?_p(Bp(e)):{},es(t||!e||!e.__esModule?_t(r,"default",{value:e,enumerable:!0}):r,e)),Wp=e=>es(_t({},"__esModule",{value:!0}),e);function I(e){if(typeof e!="object"||e===null)return!1;let t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}var oe=u(()=>{});var as,Ne,em,In,On,Be=u(()=>{as=require("node:url"),Ne=(e,t)=>{let r=On(em(e));if(typeof r!="string")throw new TypeError(`${t} must be a string or a file URL: ${r}.`);return r},em=e=>In(e)?e.toString():e,In=e=>typeof e!="string"&&e&&Object.getPrototypeOf(e)===String.prototype,On=e=>e instanceof URL?(0,as.fileURLToPath)(e):e});var jt,kn=u(()=>{oe();Be();jt=(e,t=[],r={})=>{let n=Ne(e,"First argument"),[o,i]=I(t)?[[],t]:[t,r];if(!Array.isArray(o))throw new TypeError(`Second argument must be either an array of arguments or an options object: ${o}`);if(o.some(c=>typeof c=="object"&&c!==null))throw new TypeError(`Second argument must be an array of strings: ${o}`);let s=o.map(String),a=s.find(c=>c.includes("\0"));if(a!==void 0)throw new TypeError(`Arguments cannot contain null bytes ("\\0"): ${a}`);if(!I(i))throw new TypeError(`Last argument must be an options object: ${i}`);return[n,s,i]}});var cs,ls,us,k,ie,tm,fs,rm,Wt,ds,nm,ft,om,Rn,im,N=u(()=>{cs=require("node:string_decoder"),{toString:ls}=Object.prototype,us=e=>ls.call(e)==="[object ArrayBuffer]",k=e=>ls.call(e)==="[object Uint8Array]",ie=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength),tm=new TextEncoder,fs=e=>tm.encode(e),rm=new TextDecoder,Wt=e=>rm.decode(e),ds=(e,t)=>nm(e,t).join(""),nm=(e,t)=>{if(t==="utf8"&&e.every(i=>typeof i=="string"))return e;let r=new cs.StringDecoder(t),n=e.map(i=>typeof i=="string"?fs(i):i).map(i=>r.write(i)),o=r.end();return o===""?n:[...n,o]},ft=e=>e.length===1&&k(e[0])?e[0]:Rn(om(e)),om=e=>e.map(t=>typeof t=="string"?fs(t):t),Rn=e=>{let t=new Uint8Array(im(e)),r=0;for(let n of e)t.set(n,r),r+=n.length;return t},im=e=>{let t=0;for(let r of e)t+=r.length;return t}});var gs,ys,bs,sm,am,ps,cm,ms,hs,lm,ws=u(()=>{gs=require("node:child_process");oe();N();ys=e=>Array.isArray(e)&&Array.isArray(e.raw),bs=(e,t)=>{let r=[];for(let[i,s]of e.entries())r=sm({templates:e,expressions:t,tokens:r,index:i,template:s});if(r.length===0)throw new TypeError("Template script must not be empty");let[n,...o]=r;return[n,o,{}]},sm=({templates:e,expressions:t,tokens:r,index:n,template:o})=>{if(o===void 0)throw new TypeError(`Invalid backslash sequence: ${e.raw[n]}`);let{nextTokens:i,leadingWhitespaces:s,trailingWhitespaces:a}=am(o,e.raw[n]),c=ms(r,i,s);if(n===t.length)return c;let f=t[n],l=Array.isArray(f)?f.map(d=>hs(d)):[hs(f)];return ms(c,l,a)},am=(e,t)=>{if(t.length===0)return{nextTokens:[],leadingWhitespaces:!1,trailingWhitespaces:!1};let r=[],n=0,o=ps.has(t[0]);for(let s=0,a=0;s<e.length;s+=1,a+=1){let c=t[a];if(ps.has(c))n!==s&&r.push(e.slice(n,s)),n=s+1;else if(c==="\\"){let f=t[a+1];f===`
`?(s-=1,a+=1):f==="u"&&t[a+2]==="{"?a=t.indexOf("}",a+3):a+=cm[f]??1}}let i=n===e.length;return i||r.push(e.slice(n)),{nextTokens:r,leadingWhitespaces:o,trailingWhitespaces:i}},ps=new Set([" ","	","\r",`
`]),cm={x:3,u:5},ms=(e,t,r)=>r||e.length===0||t.length===0?[...e,...t]:[...e.slice(0,-1),`${e.at(-1)}${t[0]}`,...t.slice(1)],hs=e=>{let t=typeof e;if(t==="string")return e;if(t==="number")return String(e);if(I(e)&&("stdout"in e||"isMaxBuffer"in e))return lm(e);throw e instanceof gs.ChildProcess||Object.prototype.toString.call(e)==="[object Promise]"?new TypeError("Unexpected subprocess in template expression. Please use ${await subprocess} instead of ${subprocess}."):new TypeError(`Unexpected "${t}" in template expression`)},lm=({stdout:e})=>{if(typeof e=="string")return e;if(k(e))return Wt(e);throw e===void 0?new TypeError(`Missing result.stdout in template expression. This is probably due to the previous subprocess' "stdout" option.`):new TypeError(`Unexpected "${typeof e}" stdout in template expression`)}});var zt,V,Vt,W,Gt,se=u(()=>{zt=O(require("node:process"),1),V=e=>Vt.includes(e),Vt=[zt.default.stdin,zt.default.stdout,zt.default.stderr],W=["stdin","stdout","stderr"],Gt=e=>W[e]??`stdio[${e}]`});var xs,$s,Pn,um,fm,dm,pm,Ss,mm,Cn,hm,gm,ym,bm,Mn,ae,ce=u(()=>{xs=require("node:util");oe();se();$s=e=>{let t={...e};for(let r of Mn)t[r]=Pn(e,r);return t},Pn=(e,t)=>{let r=Array.from({length:um(e)+1}),n=fm(e[t],r,t);return gm(n,t)},um=({stdio:e})=>Array.isArray(e)?Math.max(e.length,W.length):W.length,fm=(e,t,r)=>I(e)?dm(e,t,r):t.fill(e),dm=(e,t,r)=>{for(let n of Object.keys(e).sort(pm))for(let o of mm(n,r,t))t[o]=e[n];return t},pm=(e,t)=>Ss(e)<Ss(t)?1:-1,Ss=e=>e==="stdout"||e==="stderr"?0:e==="all"?2:1,mm=(e,t,r)=>{if(e==="ipc")return[r.length-1];let n=Cn(e);if(n===void 0||n===0)throw new TypeError(`"${t}.${e}" is invalid.
It must be "${t}.stdout", "${t}.stderr", "${t}.all", "${t}.ipc", or "${t}.fd3", "${t}.fd4" (and so on).`);if(n>=r.length)throw new TypeError(`"${t}.${e}" is invalid: that file descriptor does not exist.
Please set the "stdio" option to ensure that file descriptor exists.`);return n==="all"?[1,2]:[n]},Cn=e=>{if(e==="all")return e;if(W.includes(e))return W.indexOf(e);let t=hm.exec(e);if(t!==null)return Number(t[1])},hm=/^fd(\d+)$/,gm=(e,t)=>e.map(r=>r===void 0?bm[t]:r),ym=(0,xs.debuglog)("execa").enabled?"full":"none",bm={lines:!1,buffer:!0,maxBuffer:1e3*1e3*100,verbose:ym,stripFinalNewline:!0},Mn=["lines","buffer","maxBuffer","verbose","stripFinalNewline"],ae=(e,t)=>t==="ipc"?e.at(-1):e[t]});var je,We,Es,Un,wm,Ht,Yt,de=u(()=>{ce();je=({verbose:e},t)=>Un(e,t)!=="none",We=({verbose:e},t)=>!["none","short"].includes(Un(e,t)),Es=({verbose:e},t)=>{let r=Un(e,t);return Ht(r)?r:void 0},Un=(e,t)=>t===void 0?wm(e):ae(e,t),wm=e=>e.find(t=>Ht(t))??Yt.findLast(t=>e.includes(t)),Ht=e=>typeof e=="function",Yt=["none","short","full"]});var vs,Ds,As,dt,Ts,Sm,xm,$m,Em,vm,Dm,Am,qt=u(()=>{vs=require("node:process"),Ds=require("node:util"),As=(e,t)=>{let r=[e,...t],n=r.join(" "),o=r.map(i=>Dm(Ts(i))).join(" ");return{command:n,escapedCommand:o}},dt=e=>(0,Ds.stripVTControlCharacters)(e).split(`
`).map(t=>Ts(t)).join(`
`),Ts=e=>e.replaceAll($m,t=>Sm(t)),Sm=e=>{let t=Em[e];if(t!==void 0)return t;let r=e.codePointAt(0),n=r.toString(16);return r<=vm?`\\u${n.padStart(4,"0")}`:`\\U${n}`},xm=()=>{try{return new RegExp("\\p{Separator}|\\p{Other}","gu")}catch{return/[\s\u0000-\u001F\u007F-\u009F\u00AD]/g}},$m=xm(),Em={" ":" ","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},vm=65535,Dm=e=>Am.test(e)?e:vs.platform==="win32"?`"${e.replaceAll('"','""')}"`:`'${e.replaceAll("'","'\\''")}'`,Am=/^[\w./-]+$/});function _n(){let{env:e}=Ln.default,{TERM:t,TERM_PROGRAM:r}=e;return Ln.default.platform!=="win32"?t!=="linux":!!e.WT_SESSION||!!e.TERMINUS_SUBLIME||e.ConEmuTask==="{cmd::Cmder}"||r==="Terminus-Sublime"||r==="vscode"||t==="xterm-256color"||t==="alacritty"||t==="rxvt-unicode"||t==="rxvt-unicode-256color"||e.TERMINAL_EMULATOR==="JetBrains-JediTerm"}var Ln,Is=u(()=>{Ln=O(require("node:process"),1)});var Os,ks,Tm,Im,Om,km,Rm,Kt,eS,Rs=u(()=>{Is();Os={circleQuestionMark:"(?)",questionMarkPrefix:"(?)",square:"\u2588",squareDarkShade:"\u2593",squareMediumShade:"\u2592",squareLightShade:"\u2591",squareTop:"\u2580",squareBottom:"\u2584",squareLeft:"\u258C",squareRight:"\u2590",squareCenter:"\u25A0",bullet:"\u25CF",dot:"\u2024",ellipsis:"\u2026",pointerSmall:"\u203A",triangleUp:"\u25B2",triangleUpSmall:"\u25B4",triangleDown:"\u25BC",triangleDownSmall:"\u25BE",triangleLeftSmall:"\u25C2",triangleRightSmall:"\u25B8",home:"\u2302",heart:"\u2665",musicNote:"\u266A",musicNoteBeamed:"\u266B",arrowUp:"\u2191",arrowDown:"\u2193",arrowLeft:"\u2190",arrowRight:"\u2192",arrowLeftRight:"\u2194",arrowUpDown:"\u2195",almostEqual:"\u2248",notEqual:"\u2260",lessOrEqual:"\u2264",greaterOrEqual:"\u2265",identical:"\u2261",infinity:"\u221E",subscriptZero:"\u2080",subscriptOne:"\u2081",subscriptTwo:"\u2082",subscriptThree:"\u2083",subscriptFour:"\u2084",subscriptFive:"\u2085",subscriptSix:"\u2086",subscriptSeven:"\u2087",subscriptEight:"\u2088",subscriptNine:"\u2089",oneHalf:"\xBD",oneThird:"\u2153",oneQuarter:"\xBC",oneFifth:"\u2155",oneSixth:"\u2159",oneEighth:"\u215B",twoThirds:"\u2154",twoFifths:"\u2156",threeQuarters:"\xBE",threeFifths:"\u2157",threeEighths:"\u215C",fourFifths:"\u2158",fiveSixths:"\u215A",fiveEighths:"\u215D",sevenEighths:"\u215E",line:"\u2500",lineBold:"\u2501",lineDouble:"\u2550",lineDashed0:"\u2504",lineDashed1:"\u2505",lineDashed2:"\u2508",lineDashed3:"\u2509",lineDashed4:"\u254C",lineDashed5:"\u254D",lineDashed6:"\u2574",lineDashed7:"\u2576",lineDashed8:"\u2578",lineDashed9:"\u257A",lineDashed10:"\u257C",lineDashed11:"\u257E",lineDashed12:"\u2212",lineDashed13:"\u2013",lineDashed14:"\u2010",lineDashed15:"\u2043",lineVertical:"\u2502",lineVerticalBold:"\u2503",lineVerticalDouble:"\u2551",lineVerticalDashed0:"\u2506",lineVerticalDashed1:"\u2507",lineVerticalDashed2:"\u250A",lineVerticalDashed3:"\u250B",lineVerticalDashed4:"\u254E",lineVerticalDashed5:"\u254F",lineVerticalDashed6:"\u2575",lineVerticalDashed7:"\u2577",lineVerticalDashed8:"\u2579",lineVerticalDashed9:"\u257B",lineVerticalDashed10:"\u257D",lineVerticalDashed11:"\u257F",lineDownLeft:"\u2510",lineDownLeftArc:"\u256E",lineDownBoldLeftBold:"\u2513",lineDownBoldLeft:"\u2512",lineDownLeftBold:"\u2511",lineDownDoubleLeftDouble:"\u2557",lineDownDoubleLeft:"\u2556",lineDownLeftDouble:"\u2555",lineDownRight:"\u250C",lineDownRightArc:"\u256D",lineDownBoldRightBold:"\u250F",lineDownBoldRight:"\u250E",lineDownRightBold:"\u250D",lineDownDoubleRightDouble:"\u2554",lineDownDoubleRight:"\u2553",lineDownRightDouble:"\u2552",lineUpLeft:"\u2518",lineUpLeftArc:"\u256F",lineUpBoldLeftBold:"\u251B",lineUpBoldLeft:"\u251A",lineUpLeftBold:"\u2519",lineUpDoubleLeftDouble:"\u255D",lineUpDoubleLeft:"\u255C",lineUpLeftDouble:"\u255B",lineUpRight:"\u2514",lineUpRightArc:"\u2570",lineUpBoldRightBold:"\u2517",lineUpBoldRight:"\u2516",lineUpRightBold:"\u2515",lineUpDoubleRightDouble:"\u255A",lineUpDoubleRight:"\u2559",lineUpRightDouble:"\u2558",lineUpDownLeft:"\u2524",lineUpBoldDownBoldLeftBold:"\u252B",lineUpBoldDownBoldLeft:"\u2528",lineUpDownLeftBold:"\u2525",lineUpBoldDownLeftBold:"\u2529",lineUpDownBoldLeftBold:"\u252A",lineUpDownBoldLeft:"\u2527",lineUpBoldDownLeft:"\u2526",lineUpDoubleDownDoubleLeftDouble:"\u2563",lineUpDoubleDownDoubleLeft:"\u2562",lineUpDownLeftDouble:"\u2561",lineUpDownRight:"\u251C",lineUpBoldDownBoldRightBold:"\u2523",lineUpBoldDownBoldRight:"\u2520",lineUpDownRightBold:"\u251D",lineUpBoldDownRightBold:"\u2521",lineUpDownBoldRightBold:"\u2522",lineUpDownBoldRight:"\u251F",lineUpBoldDownRight:"\u251E",lineUpDoubleDownDoubleRightDouble:"\u2560",lineUpDoubleDownDoubleRight:"\u255F",lineUpDownRightDouble:"\u255E",lineDownLeftRight:"\u252C",lineDownBoldLeftBoldRightBold:"\u2533",lineDownLeftBoldRightBold:"\u252F",lineDownBoldLeftRight:"\u2530",lineDownBoldLeftBoldRight:"\u2531",lineDownBoldLeftRightBold:"\u2532",lineDownLeftRightBold:"\u252E",lineDownLeftBoldRight:"\u252D",lineDownDoubleLeftDoubleRightDouble:"\u2566",lineDownDoubleLeftRight:"\u2565",lineDownLeftDoubleRightDouble:"\u2564",lineUpLeftRight:"\u2534",lineUpBoldLeftBoldRightBold:"\u253B",lineUpLeftBoldRightBold:"\u2537",lineUpBoldLeftRight:"\u2538",lineUpBoldLeftBoldRight:"\u2539",lineUpBoldLeftRightBold:"\u253A",lineUpLeftRightBold:"\u2536",lineUpLeftBoldRight:"\u2535",lineUpDoubleLeftDoubleRightDouble:"\u2569",lineUpDoubleLeftRight:"\u2568",lineUpLeftDoubleRightDouble:"\u2567",lineUpDownLeftRight:"\u253C",lineUpBoldDownBoldLeftBoldRightBold:"\u254B",lineUpDownBoldLeftBoldRightBold:"\u2548",lineUpBoldDownLeftBoldRightBold:"\u2547",lineUpBoldDownBoldLeftRightBold:"\u254A",lineUpBoldDownBoldLeftBoldRight:"\u2549",lineUpBoldDownLeftRight:"\u2540",lineUpDownBoldLeftRight:"\u2541",lineUpDownLeftBoldRight:"\u253D",lineUpDownLeftRightBold:"\u253E",lineUpBoldDownBoldLeftRight:"\u2542",lineUpDownLeftBoldRightBold:"\u253F",lineUpBoldDownLeftBoldRight:"\u2543",lineUpBoldDownLeftRightBold:"\u2544",lineUpDownBoldLeftBoldRight:"\u2545",lineUpDownBoldLeftRightBold:"\u2546",lineUpDoubleDownDoubleLeftDoubleRightDouble:"\u256C",lineUpDoubleDownDoubleLeftRight:"\u256B",lineUpDownLeftDoubleRightDouble:"\u256A",lineCross:"\u2573",lineBackslash:"\u2572",lineSlash:"\u2571"},ks={tick:"\u2714",info:"\u2139",warning:"\u26A0",cross:"\u2718",squareSmall:"\u25FB",squareSmallFilled:"\u25FC",circle:"\u25EF",circleFilled:"\u25C9",circleDotted:"\u25CC",circleDouble:"\u25CE",circleCircle:"\u24DE",circleCross:"\u24E7",circlePipe:"\u24BE",radioOn:"\u25C9",radioOff:"\u25EF",checkboxOn:"\u2612",checkboxOff:"\u2610",checkboxCircleOn:"\u24E7",checkboxCircleOff:"\u24BE",pointer:"\u276F",triangleUpOutline:"\u25B3",triangleLeft:"\u25C0",triangleRight:"\u25B6",lozenge:"\u25C6",lozengeOutline:"\u25C7",hamburger:"\u2630",smiley:"\u32E1",mustache:"\u0DF4",star:"\u2605",play:"\u25B6",nodejs:"\u2B22",oneSeventh:"\u2150",oneNinth:"\u2151",oneTenth:"\u2152"},Tm={tick:"\u221A",info:"i",warning:"\u203C",cross:"\xD7",squareSmall:"\u25A1",squareSmallFilled:"\u25A0",circle:"( )",circleFilled:"(*)",circleDotted:"( )",circleDouble:"( )",circleCircle:"(\u25CB)",circleCross:"(\xD7)",circlePipe:"(\u2502)",radioOn:"(*)",radioOff:"( )",checkboxOn:"[\xD7]",checkboxOff:"[ ]",checkboxCircleOn:"(\xD7)",checkboxCircleOff:"( )",pointer:">",triangleUpOutline:"\u2206",triangleLeft:"\u25C4",triangleRight:"\u25BA",lozenge:"\u2666",lozengeOutline:"\u25CA",hamburger:"\u2261",smiley:"\u263A",mustache:"\u250C\u2500\u2510",star:"\u2736",play:"\u25BA",nodejs:"\u2666",oneSeventh:"1/7",oneNinth:"1/9",oneTenth:"1/10"},Im={...Os,...ks},Om={...Os,...Tm},km=_n(),Rm=km?Im:Om,Kt=Rm,eS=Object.entries(ks)});var Ps,Pm,w,rS,Cs,nS,oS,iS,sS,aS,cS,lS,uS,fS,dS,pS,mS,hS,gS,yS,Jt,bS,wS,SS,xS,$S,ES,vS,DS,AS,Ms,TS,Us,IS,OS,kS,RS,PS,CS,MS,US,LS,_S,FS,Fn=u(()=>{Ps=O(require("node:tty"),1),Pm=Ps.default?.WriteStream?.prototype?.hasColors?.()??!1,w=(e,t)=>{if(!Pm)return o=>o;let r=`\x1B[${e}m`,n=`\x1B[${t}m`;return o=>{let i=o+"",s=i.indexOf(n);if(s===-1)return r+i+n;let a=r,c=0,l=(t===22?n:"")+r;for(;s!==-1;)a+=i.slice(c,s)+l,c=s+n.length,s=i.indexOf(n,c);return a+=i.slice(c)+n,a}},rS=w(0,0),Cs=w(1,22),nS=w(2,22),oS=w(3,23),iS=w(4,24),sS=w(53,55),aS=w(7,27),cS=w(8,28),lS=w(9,29),uS=w(30,39),fS=w(31,39),dS=w(32,39),pS=w(33,39),mS=w(34,39),hS=w(35,39),gS=w(36,39),yS=w(37,39),Jt=w(90,39),bS=w(40,49),wS=w(41,49),SS=w(42,49),xS=w(43,49),$S=w(44,49),ES=w(45,49),vS=w(46,49),DS=w(47,49),AS=w(100,49),Ms=w(91,39),TS=w(92,39),Us=w(93,39),IS=w(94,39),OS=w(95,39),kS=w(96,39),RS=w(97,39),PS=w(101,49),CS=w(102,49),MS=w(103,49),US=w(104,49),LS=w(105,49),_S=w(106,49),FS=w(107,49)});var Ls=u(()=>{Fn();Fn()});var Ns,Mm,Zt,_s,Um,Fs,Lm,Bs=u(()=>{Rs();Ls();Ns=({type:e,message:t,timestamp:r,piped:n,commandId:o,result:{failed:i=!1}={},options:{reject:s=!0}})=>{let a=Mm(r),c=Um[e]({failed:i,reject:s,piped:n}),f=Lm[e]({reject:s});return`${Jt(`[${a}]`)} ${Jt(`[${o}]`)} ${f(c)} ${f(t)}`},Mm=e=>`${Zt(e.getHours(),2)}:${Zt(e.getMinutes(),2)}:${Zt(e.getSeconds(),2)}.${Zt(e.getMilliseconds(),3)}`,Zt=(e,t)=>String(e).padStart(t,"0"),_s=({failed:e,reject:t})=>e?t?Kt.cross:Kt.warning:Kt.tick,Um={command:({piped:e})=>e?"|":"$",output:()=>" ",ipc:()=>"*",error:_s,duration:_s},Fs=e=>e,Lm={command:()=>Cs,output:()=>Fs,ipc:()=>Fs,error:({reject:e})=>e?Ms:Us,duration:()=>Jt}});var js,_m,Fm,Ws=u(()=>{de();js=(e,t,r)=>{let n=Es(t,r);return e.map(({verboseLine:o,verboseObject:i})=>_m(o,i,n)).filter(o=>o!==void 0).map(o=>Fm(o)).join("")},_m=(e,t,r)=>{if(r===void 0)return e;let n=r(e,t);if(typeof n=="string")return n},Fm=e=>e.endsWith(`
`)?e:`${e}
`});var zs,J,Nm,Bm,jm,Xt,Wm,ze=u(()=>{zs=require("node:util");qt();Bs();Ws();J=({type:e,verboseMessage:t,fdNumber:r,verboseInfo:n,result:o})=>{let i=Nm({type:e,result:o,verboseInfo:n}),s=Bm(t,i),a=js(s,n,r);a!==""&&console.warn(a.slice(0,-1))},Nm=({type:e,result:t,verboseInfo:{escapedCommand:r,commandId:n,rawOptions:{piped:o=!1,...i}}})=>({type:e,escapedCommand:r,commandId:`${n}`,timestamp:new Date,piped:o,result:t,options:i}),Bm=(e,t)=>e.split(`
`).map(r=>jm({...t,message:r})),jm=e=>({verboseLine:Ns(e),verboseObject:e}),Xt=e=>{let t=typeof e=="string"?e:(0,zs.inspect)(e);return dt(t).replaceAll("	"," ".repeat(Wm))},Wm=2});var Vs,Gs=u(()=>{de();ze();Vs=(e,t)=>{je(t)&&J({type:"command",verboseMessage:e,verboseInfo:t})}});var Hs,zm,Vm,Gm,Ys=u(()=>{de();Hs=(e,t,r)=>{Gm(e);let n=zm(e);return{verbose:e,escapedCommand:t,commandId:n,rawOptions:r}},zm=e=>je({verbose:e})?Vm++:void 0,Vm=0n,Gm=e=>{for(let t of e){if(t===!1)throw new TypeError(`The "verbose: false" option was renamed to "verbose: 'none'".`);if(t===!0)throw new TypeError(`The "verbose: true" option was renamed to "verbose: 'short'".`);if(!Yt.includes(t)&&!Ht(t)){let r=Yt.map(n=>`'${n}'`).join(", ");throw new TypeError(`The "verbose" option must not be ${t}. Allowed values are: ${r} or a function.`)}}}});var Nn,Qt,Bn,er=u(()=>{Nn=require("node:process"),Qt=()=>Nn.hrtime.bigint(),Bn=e=>Number(Nn.hrtime.bigint()-e)/1e6});var tr,jn=u(()=>{Gs();Ys();er();qt();ce();tr=(e,t,r)=>{let n=Qt(),{command:o,escapedCommand:i}=As(e,t),s=Pn(r,"verbose"),a=Hs(s,i,{...r});return Vs(i,a),{command:o,escapedCommand:i,startTime:n,verboseInfo:a}}});var Xs=_((c1,Zs)=>{Zs.exports=Js;Js.sync=Ym;var qs=require("fs");function Hm(e,t){var r=t.pathExt!==void 0?t.pathExt:process.env.PATHEXT;if(!r||(r=r.split(";"),r.indexOf("")!==-1))return!0;for(var n=0;n<r.length;n++){var o=r[n].toLowerCase();if(o&&e.substr(-o.length).toLowerCase()===o)return!0}return!1}function Ks(e,t,r){return!e.isSymbolicLink()&&!e.isFile()?!1:Hm(t,r)}function Js(e,t,r){qs.stat(e,function(n,o){r(n,n?!1:Ks(o,e,t))})}function Ym(e,t){return Ks(qs.statSync(e),e,t)}});var na=_((l1,ra)=>{ra.exports=ea;ea.sync=qm;var Qs=require("fs");function ea(e,t,r){Qs.stat(e,function(n,o){r(n,n?!1:ta(o,t))})}function qm(e,t){return ta(Qs.statSync(e),t)}function ta(e,t){return e.isFile()&&Km(e,t)}function Km(e,t){var r=e.mode,n=e.uid,o=e.gid,i=t.uid!==void 0?t.uid:process.getuid&&process.getuid(),s=t.gid!==void 0?t.gid:process.getgid&&process.getgid(),a=parseInt("100",8),c=parseInt("010",8),f=parseInt("001",8),l=a|c,d=r&f||r&c&&o===s||r&a&&n===i||r&l&&i===0;return d}});var ia=_((f1,oa)=>{var u1=require("fs"),rr;process.platform==="win32"||global.TESTING_WINDOWS?rr=Xs():rr=na();oa.exports=Wn;Wn.sync=Jm;function Wn(e,t,r){if(typeof t=="function"&&(r=t,t={}),!r){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(n,o){Wn(e,t||{},function(i,s){i?o(i):n(s)})})}rr(e,t||{},function(n,o){n&&(n.code==="EACCES"||t&&t.ignoreErrors)&&(n=null,o=!1),r(n,o)})}function Jm(e,t){try{return rr.sync(e,t||{})}catch(r){if(t&&t.ignoreErrors||r.code==="EACCES")return!1;throw r}}});var da=_((d1,fa)=>{var Ve=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",sa=require("path"),Zm=Ve?";":":",aa=ia(),ca=e=>Object.assign(new Error(`not found: ${e}`),{code:"ENOENT"}),la=(e,t)=>{let r=t.colon||Zm,n=e.match(/\//)||Ve&&e.match(/\\/)?[""]:[...Ve?[process.cwd()]:[],...(t.path||process.env.PATH||"").split(r)],o=Ve?t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",i=Ve?o.split(r):[""];return Ve&&e.indexOf(".")!==-1&&i[0]!==""&&i.unshift(""),{pathEnv:n,pathExt:i,pathExtExe:o}},ua=(e,t,r)=>{typeof t=="function"&&(r=t,t={}),t||(t={});let{pathEnv:n,pathExt:o,pathExtExe:i}=la(e,t),s=[],a=f=>new Promise((l,d)=>{if(f===n.length)return t.all&&s.length?l(s):d(ca(e));let p=n[f],m=/^".*"$/.test(p)?p.slice(1,-1):p,g=sa.join(m,e),b=!m&&/^\.[\\\/]/.test(e)?e.slice(0,2)+g:g;l(c(b,f,0))}),c=(f,l,d)=>new Promise((p,m)=>{if(d===o.length)return p(a(l+1));let g=o[d];aa(f+g,{pathExt:i},(b,D)=>{if(!b&&D)if(t.all)s.push(f+g);else return p(f+g);return p(c(f,l,d+1))})});return r?a(0).then(f=>r(null,f),r):a(0)},Xm=(e,t)=>{t=t||{};let{pathEnv:r,pathExt:n,pathExtExe:o}=la(e,t),i=[];for(let s=0;s<r.length;s++){let a=r[s],c=/^".*"$/.test(a)?a.slice(1,-1):a,f=sa.join(c,e),l=!c&&/^\.[\\\/]/.test(e)?e.slice(0,2)+f:f;for(let d=0;d<n.length;d++){let p=l+n[d];try{if(aa.sync(p,{pathExt:o}))if(t.all)i.push(p);else return p}catch{}}}if(t.all&&i.length)return i;if(t.nothrow)return null;throw ca(e)};fa.exports=ua;ua.sync=Xm});var ma=_((p1,zn)=>{"use strict";var pa=(e={})=>{let t=e.env||process.env;return(e.platform||process.platform)!=="win32"?"PATH":Object.keys(t).reverse().find(n=>n.toUpperCase()==="PATH")||"Path"};zn.exports=pa;zn.exports.default=pa});var ba=_((m1,ya)=>{"use strict";var ha=require("path"),Qm=da(),eh=ma();function ga(e,t){let r=e.options.env||process.env,n=process.cwd(),o=e.options.cwd!=null,i=o&&process.chdir!==void 0&&!process.chdir.disabled;if(i)try{process.chdir(e.options.cwd)}catch{}let s;try{s=Qm.sync(e.command,{path:r[eh({env:r})],pathExt:t?ha.delimiter:void 0})}catch{}finally{i&&process.chdir(n)}return s&&(s=ha.resolve(o?e.options.cwd:"",s)),s}function th(e){return ga(e)||ga(e,!0)}ya.exports=th});var wa=_((h1,Gn)=>{"use strict";var Vn=/([()\][%!^"`<>&|;, *?])/g;function rh(e){return e=e.replace(Vn,"^$1"),e}function nh(e,t){return e=`${e}`,e=e.replace(/(?=(\\+?)?)\1"/g,'$1$1\\"'),e=e.replace(/(?=(\\+?)?)\1$/,"$1$1"),e=`"${e}"`,e=e.replace(Vn,"^$1"),t&&(e=e.replace(Vn,"^$1")),e}Gn.exports.command=rh;Gn.exports.argument=nh});var xa=_((g1,Sa)=>{"use strict";Sa.exports=/^#!(.*)/});var Ea=_((y1,$a)=>{"use strict";var oh=xa();$a.exports=(e="")=>{let t=e.match(oh);if(!t)return null;let[r,n]=t[0].replace(/#! ?/,"").split(" "),o=r.split("/").pop();return o==="env"?n:n?`${o} ${n}`:o}});var Da=_((b1,va)=>{"use strict";var Hn=require("fs"),ih=Ea();function sh(e){let r=Buffer.alloc(150),n;try{n=Hn.openSync(e,"r"),Hn.readSync(n,r,0,150,0),Hn.closeSync(n)}catch{}return ih(r.toString())}va.exports=sh});var Oa=_((w1,Ia)=>{"use strict";var ah=require("path"),Aa=ba(),Ta=wa(),ch=Da(),lh=process.platform==="win32",uh=/\.(?:com|exe)$/i,fh=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function dh(e){e.file=Aa(e);let t=e.file&&ch(e.file);return t?(e.args.unshift(e.file),e.command=t,Aa(e)):e.file}function ph(e){if(!lh)return e;let t=dh(e),r=!uh.test(t);if(e.options.forceShell||r){let n=fh.test(t);e.command=ah.normalize(e.command),e.command=Ta.command(e.command),e.args=e.args.map(i=>Ta.argument(i,n));let o=[e.command].concat(e.args).join(" ");e.args=["/d","/s","/c",`"${o}"`],e.command=process.env.comspec||"cmd.exe",e.options.windowsVerbatimArguments=!0}return e}function mh(e,t,r){t&&!Array.isArray(t)&&(r=t,t=null),t=t?t.slice(0):[],r=Object.assign({},r);let n={command:e,args:t,options:r,file:void 0,original:{command:e,args:t}};return r.shell?n:ph(n)}Ia.exports=mh});var Pa=_((S1,Ra)=>{"use strict";var Yn=process.platform==="win32";function qn(e,t){return Object.assign(new Error(`${t} ${e.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${t} ${e.command}`,path:e.command,spawnargs:e.args})}function hh(e,t){if(!Yn)return;let r=e.emit;e.emit=function(n,o){if(n==="exit"){let i=ka(o,t);if(i)return r.call(e,"error",i)}return r.apply(e,arguments)}}function ka(e,t){return Yn&&e===1&&!t.file?qn(t.original,"spawn"):null}function gh(e,t){return Yn&&e===1&&!t.file?qn(t.original,"spawnSync"):null}Ra.exports={hookChildProcess:hh,verifyENOENT:ka,verifyENOENTSync:gh,notFoundError:qn}});var Ua=_((x1,Ge)=>{"use strict";var Ca=require("child_process"),Kn=Oa(),Jn=Pa();function Ma(e,t,r){let n=Kn(e,t,r),o=Ca.spawn(n.command,n.args,n.options);return Jn.hookChildProcess(o,n),o}function yh(e,t,r){let n=Kn(e,t,r),o=Ca.spawnSync(n.command,n.args,n.options);return o.error=o.error||Jn.verifyENOENTSync(o.status,n),o}Ge.exports=Ma;Ge.exports.spawn=Ma;Ge.exports.sync=yh;Ge.exports._parse=Kn;Ge.exports._enoent=Jn});function nr(e={}){let{env:t=process.env,platform:r=process.platform}=e;return r!=="win32"?"PATH":Object.keys(t).reverse().find(n=>n.toUpperCase()==="PATH")||"Path"}var La=u(()=>{});var _a=u(()=>{});function or(e){return e instanceof URL?(0,Na.fileURLToPath)(e):e}function Ba(e){return{*[Symbol.iterator](){let t=Zn.default.resolve(or(e)),r;for(;r!==t;)yield t,r=t,t=Zn.default.resolve(t,"..")}}}var Fa,Xn,Zn,Na,v1,D1,ja=u(()=>{Fa=require("node:util"),Xn=require("node:child_process"),Zn=O(require("node:path"),1),Na=require("node:url");_a();v1=(0,Fa.promisify)(Xn.execFile);D1=10*1024*1024});var pt,pe,bh,wh,Sh,Wa,za=u(()=>{pt=O(require("node:process"),1),pe=O(require("node:path"),1);La();ja();bh=({cwd:e=pt.default.cwd(),path:t=pt.default.env[nr()],preferLocal:r=!0,execPath:n=pt.default.execPath,addExecPath:o=!0}={})=>{let i=pe.default.resolve(or(e)),s=[],a=t.split(pe.default.delimiter);return r&&wh(s,a,i),o&&Sh(s,a,n,i),t===""||t===pe.default.delimiter?`${s.join(pe.default.delimiter)}${t}`:[...s,t].join(pe.default.delimiter)},wh=(e,t,r)=>{for(let n of Ba(r)){let o=pe.default.join(n,"node_modules/.bin");t.includes(o)||e.push(o)}},Sh=(e,t,r,n)=>{let o=pe.default.resolve(n,or(r),"..");t.includes(o)||e.push(o)},Wa=({env:e=pt.default.env,...t}={})=>{e={...e};let r=nr({env:e});return t.path=e[r],e[r]=bh(t),e}});var Va,G,Ga,Ha,Ya,ir,mt,ht,De=u(()=>{Va=(e,t,r)=>{let n=r?ht:mt,o=e instanceof G?{}:{cause:e};return new n(t,o)},G=class extends Error{},Ga=(e,t)=>{Object.defineProperty(e.prototype,"name",{value:t,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,Ya,{value:!0,writable:!1,enumerable:!1,configurable:!1})},Ha=e=>ir(e)&&Ya in e,Ya=Symbol("isExecaError"),ir=e=>Object.prototype.toString.call(e)==="[object Error]",mt=class extends Error{};Ga(mt,mt.name);ht=class extends Error{};Ga(ht,ht.name)});var qa,xh,Ka,Ja,Za=u(()=>{qa=()=>{let e=Ja-Ka+1;return Array.from({length:e},xh)},xh=(e,t)=>({name:`SIGRT${t+1}`,number:Ka+t,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}),Ka=34,Ja=64});var Xa,Qa=u(()=>{Xa=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}]});var ec,Qn,$h,tc=u(()=>{ec=require("node:os");Qa();Za();Qn=()=>{let e=qa();return[...Xa,...e].map($h)},$h=({name:e,number:t,description:r,action:n,forced:o=!1,standard:i})=>{let{signals:{[e]:s}}=ec.constants,a=s!==void 0;return{name:e,number:a?s:t,description:r,supported:a,action:n,forced:o,standard:i}}});var rc,Eh,vh,nc,Dh,Ah,Th,F1,oc=u(()=>{rc=require("node:os");tc();Eh=()=>{let e=Qn();return Object.fromEntries(e.map(vh))},vh=({name:e,number:t,description:r,supported:n,action:o,forced:i,standard:s})=>[e,{name:e,number:t,description:r,supported:n,action:o,forced:i,standard:s}],nc=Eh(),Dh=()=>{let e=Qn(),t=65,r=Array.from({length:t},(n,o)=>Ah(o,e));return Object.assign({},...r)},Ah=(e,t)=>{let r=Th(e,t);if(r===void 0)return{};let{name:n,description:o,supported:i,action:s,forced:a,standard:c}=r;return{[e]:{name:n,number:e,description:o,supported:i,action:s,forced:a,standard:c}}},Th=(e,t)=>{let r=t.find(({name:n})=>rc.constants.signals[n]===e);return r!==void 0?r:t.find(n=>n.number===e)},F1=Dh()});var He,sc,ac,cc,Ih,Oh,ic,kh,eo,Rh,Ph,sr,gt=u(()=>{He=require("node:os");oc();sc=e=>{let t="option `killSignal`";if(e===0)throw new TypeError(`Invalid ${t}: 0 cannot be used.`);return cc(e,t)},ac=e=>e===0?e:cc(e,"`subprocess.kill()`'s argument"),cc=(e,t)=>{if(Number.isInteger(e))return Ih(e,t);if(typeof e=="string")return kh(e,t);throw new TypeError(`Invalid ${t} ${String(e)}: it must be a string or an integer.
${eo()}`)},Ih=(e,t)=>{if(ic.has(e))return ic.get(e);throw new TypeError(`Invalid ${t} ${e}: this signal integer does not exist.
${eo()}`)},Oh=()=>new Map(Object.entries(He.constants.signals).reverse().map(([e,t])=>[t,e])),ic=Oh(),kh=(e,t)=>{if(e in He.constants.signals)return e;throw e.toUpperCase()in He.constants.signals?new TypeError(`Invalid ${t} '${e}': please rename it to '${e.toUpperCase()}'.`):new TypeError(`Invalid ${t} '${e}': this signal name does not exist.
${eo()}`)},eo=()=>`Available signal names: ${Rh()}.
Available signal numbers: ${Ph()}.`,Rh=()=>Object.keys(He.constants.signals).sort().map(e=>`'${e}'`).join(", "),Ph=()=>[...new Set(Object.values(He.constants.signals).sort((e,t)=>e-t))].join(", "),sr=e=>nc[e].description});var lc,uc,Ch,fc,Mh,Uh,Lh,to,ar=u(()=>{lc=require("node:timers/promises");De();gt();uc=e=>{if(e===!1)return e;if(e===!0)return Ch;if(!Number.isFinite(e)||e<0)throw new TypeError(`Expected the \`forceKillAfterDelay\` option to be a non-negative integer, got \`${e}\` (${typeof e})`);return e},Ch=1e3*5,fc=({kill:e,options:{forceKillAfterDelay:t,killSignal:r},onInternalError:n,context:o,controller:i},s,a)=>{let{signal:c,error:f}=Mh(s,a,r);Uh(f,n);let l=e(c);return Lh({kill:e,signal:c,forceKillAfterDelay:t,killSignal:r,killResult:l,context:o,controller:i}),l},Mh=(e,t,r)=>{let[n=r,o]=ir(e)?[void 0,e]:[e,t];if(typeof n!="string"&&!Number.isInteger(n))throw new TypeError(`The first argument must be an error instance or a signal name string/integer: ${String(n)}`);if(o!==void 0&&!ir(o))throw new TypeError(`The second argument is optional. If specified, it must be an error instance: ${o}`);return{signal:ac(n),error:o}},Uh=(e,t)=>{e!==void 0&&t.reject(e)},Lh=async({kill:e,signal:t,forceKillAfterDelay:r,killSignal:n,killResult:o,context:i,controller:s})=>{t===n&&o&&to({kill:e,forceKillAfterDelay:r,context:i,controllerSignal:s.signal})},to=async({kill:e,forceKillAfterDelay:t,context:r,controllerSignal:n})=>{if(t!==!1)try{await(0,lc.setTimeout)(t,void 0,{signal:n}),e("SIGKILL")&&(r.isForcefullyTerminated??=!0)}catch{}}});var dc,cr,ro=u(()=>{dc=require("node:events"),cr=async(e,t)=>{e.aborted||await(0,dc.once)(e,"abort",{signal:t})}});var pc,mc,_h,no=u(()=>{ro();pc=({cancelSignal:e})=>{if(e!==void 0&&Object.prototype.toString.call(e)!=="[object AbortSignal]")throw new Error(`The \`cancelSignal\` option must be an AbortSignal: ${String(e)}`)},mc=({subprocess:e,cancelSignal:t,gracefulCancel:r,context:n,controller:o})=>t===void 0||r?[]:[_h(e,t,n,o)],_h=async(e,t,r,{signal:n})=>{throw await cr(t,n),r.terminationReason??="cancel",e.kill(),t.reason}});var Ye,Fh,oo,hc,gc,lr,yc,bc,wc,Sc,xc,$c,Nh,Bh,jh,H,Wh,me,qe,Ke=u(()=>{Ye=({methodName:e,isSubprocess:t,ipc:r,isConnected:n})=>{Fh(e,t,r),oo(e,t,n)},Fh=(e,t,r)=>{if(!r)throw new Error(`${H(e,t)} can only be used if the \`ipc\` option is \`true\`.`)},oo=(e,t,r)=>{if(!r)throw new Error(`${H(e,t)} cannot be used: the ${me(t)} has already exited or disconnected.`)},hc=e=>{throw new Error(`${H("getOneMessage",e)} could not complete: the ${me(e)} exited or disconnected.`)},gc=e=>{throw new Error(`${H("sendMessage",e)} failed: the ${me(e)} is sending a message too, instead of listening to incoming messages.
This can be fixed by both sending a message and listening to incoming messages at the same time:

const [receivedMessage] = await Promise.all([
	${H("getOneMessage",e)},
	${H("sendMessage",e,"message, {strict: true}")},
]);`)},lr=(e,t)=>new Error(`${H("sendMessage",t)} failed when sending an acknowledgment response to the ${me(t)}.`,{cause:e}),yc=e=>{throw new Error(`${H("sendMessage",e)} failed: the ${me(e)} is not listening to incoming messages.`)},bc=e=>{throw new Error(`${H("sendMessage",e)} failed: the ${me(e)} exited without listening to incoming messages.`)},wc=()=>new Error(`\`cancelSignal\` aborted: the ${me(!0)} disconnected.`),Sc=()=>{throw new Error("`getCancelSignal()` cannot be used without setting the `cancelSignal` subprocess option.")},xc=({error:e,methodName:t,isSubprocess:r})=>{if(e.code==="EPIPE")throw new Error(`${H(t,r)} cannot be used: the ${me(r)} is disconnecting.`,{cause:e})},$c=({error:e,methodName:t,isSubprocess:r,message:n})=>{if(Nh(e))throw new Error(`${H(t,r)}'s argument type is invalid: the message cannot be serialized: ${String(n)}.`,{cause:e})},Nh=({code:e,message:t})=>Bh.has(e)||jh.some(r=>t.includes(r)),Bh=new Set(["ERR_MISSING_ARGS","ERR_INVALID_ARG_TYPE"]),jh=["could not be cloned","circular structure","call stack size exceeded"],H=(e,t,r="")=>e==="cancelSignal"?"`cancelSignal`'s `controller.abort()`":`${Wh(t)}${e}(${r})`,Wh=e=>e?"":"subprocess.",me=e=>e?"parent process":"subprocess",qe=e=>{e.connected&&e.disconnect()}});var Z,Je=u(()=>{Z=()=>{let e={},t=new Promise((r,n)=>{Object.assign(e,{resolve:r,reject:n})});return Object.assign(t,e)}});var fr,Ze,X,Ec,zh,Vh,vc,Gh,Dc,yt,ur,he=u(()=>{ce();fr=(e,t="stdin")=>{let{options:n,fileDescriptors:o}=X.get(e),i=Ec(o,t,!0),s=e.stdio[i];if(s===null)throw new TypeError(vc(i,t,n,!0));return s},Ze=(e,t="stdout")=>{let{options:n,fileDescriptors:o}=X.get(e),i=Ec(o,t,!1),s=i==="all"?e.all:e.stdio[i];if(s==null)throw new TypeError(vc(i,t,n,!1));return s},X=new WeakMap,Ec=(e,t,r)=>{let n=zh(t,r);return Vh(n,t,r,e),n},zh=(e,t)=>{let r=Cn(e);if(r!==void 0)return r;let{validOptions:n,defaultValue:o}=t?{validOptions:'"stdin"',defaultValue:"stdin"}:{validOptions:'"stdout", "stderr", "all"',defaultValue:"stdout"};throw new TypeError(`"${yt(t)}" must not be "${e}".
It must be ${n} or "fd3", "fd4" (and so on).
It is optional and defaults to "${o}".`)},Vh=(e,t,r,n)=>{let o=n[Dc(e)];if(o===void 0)throw new TypeError(`"${yt(r)}" must not be ${t}. That file descriptor does not exist.
Please set the "stdio" option to ensure that file descriptor exists.`);if(o.direction==="input"&&!r)throw new TypeError(`"${yt(r)}" must not be ${t}. It must be a readable stream, not writable.`);if(o.direction!=="input"&&r)throw new TypeError(`"${yt(r)}" must not be ${t}. It must be a writable stream, not readable.`)},vc=(e,t,r,n)=>{if(e==="all"&&!r.all)return`The "all" option must be true to use "from: 'all'".`;let{optionName:o,optionValue:i}=Gh(e,r);return`The "${o}: ${ur(i)}" option is incompatible with using "${yt(n)}: ${ur(t)}".
Please set this option with "pipe" instead.`},Gh=(e,{stdin:t,stdout:r,stderr:n,stdio:o})=>{let i=Dc(e);return i===0&&t!==void 0?{optionName:"stdin",optionValue:t}:i===1&&r!==void 0?{optionName:"stdout",optionValue:r}:i===2&&n!==void 0?{optionName:"stderr",optionValue:n}:{optionName:`stdio[${i}]`,optionValue:o[i]}},Dc=e=>e==="all"?1:e,yt=e=>e?"to":"from",ur=e=>typeof e=="string"?`'${e}'`:typeof e=="number"?`${e}`:"Stream"});var Ac,Ae,dr=u(()=>{Ac=require("node:events"),Ae=(e,t,r)=>{let n=e.getMaxListeners();n===0||n===Number.POSITIVE_INFINITY||(e.setMaxListeners(n+t),(0,Ac.addAbortListener)(r,()=>{e.setMaxListeners(e.getMaxListeners()-t)}))}});var pr,io,mr,so,Tc,Ic,bt=u(()=>{pr=(e,t)=>{t&&io(e)},io=e=>{e.refCounted()},mr=(e,t)=>{t&&so(e)},so=e=>{e.unrefCounted()},Tc=(e,t)=>{t&&(so(e),so(e))},Ic=(e,t)=>{t&&(io(e),io(e))}});var Oc,kc,Rc,Pc,hr,Cc=u(()=>{Oc=require("node:events"),kc=require("node:timers/promises");yr();bt();gr();br();Rc=async({anyProcess:e,channel:t,isSubprocess:r,ipcEmitter:n},o)=>{if(Uc(o)||_c(o))return;hr.has(e)||hr.set(e,[]);let i=hr.get(e);if(i.push(o),!(i.length>1))for(;i.length>0;){await Lc(e,n,o),await kc.scheduler.yield();let s=await Mc({wrappedMessage:i[0],anyProcess:e,channel:t,isSubprocess:r,ipcEmitter:n});i.shift(),n.emit("message",s),n.emit("message:done")}},Pc=async({anyProcess:e,channel:t,isSubprocess:r,ipcEmitter:n,boundOnMessage:o})=>{ao();let i=hr.get(e);for(;i?.length>0;)await(0,Oc.once)(n,"message:done");e.removeListener("message",o),Ic(t,r),n.connected=!1,n.emit("disconnect")},hr=new WeakMap});var Fc,ge,wr,Hh,Sr,wt=u(()=>{Fc=require("node:events");Cc();bt();ge=(e,t,r)=>{if(wr.has(e))return wr.get(e);let n=new Fc.EventEmitter;return n.connected=!0,wr.set(e,n),Hh({ipcEmitter:n,anyProcess:e,channel:t,isSubprocess:r}),n},wr=new WeakMap,Hh=({ipcEmitter:e,anyProcess:t,channel:r,isSubprocess:n})=>{let o=Rc.bind(void 0,{anyProcess:t,channel:r,isSubprocess:n,ipcEmitter:e});t.on("message",o),t.once("disconnect",Pc.bind(void 0,{anyProcess:t,channel:r,isSubprocess:n,ipcEmitter:e,boundOnMessage:o})),Tc(r,n)},Sr=e=>{let t=wr.get(e);return t===void 0?e.channel!==null:t.connected}});var Nc,Bc,Yh,jc,Mc,Uc,Wc,xr,qh,$r,zc,gr=u(()=>{Nc=require("node:events");Je();dr();Dr();Ke();wt();yr();Bc=({anyProcess:e,channel:t,isSubprocess:r,message:n,strict:o})=>{if(!o)return n;let i=ge(e,t,r),s=Er(e,i);return{id:Yh++,type:$r,message:n,hasListeners:s}},Yh=0n,jc=(e,t)=>{if(!(t?.type!==$r||t.hasListeners))for(let{id:r}of e)r!==void 0&&xr[r].resolve({isDeadlock:!0,hasListeners:!1})},Mc=async({wrappedMessage:e,anyProcess:t,channel:r,isSubprocess:n,ipcEmitter:o})=>{if(e?.type!==$r||!t.connected)return e;let{id:i,message:s}=e,a={id:i,type:zc,message:Er(t,o)};try{await vr({anyProcess:t,channel:r,isSubprocess:n,ipc:!0},a)}catch(c){o.emit("strict:error",c)}return s},Uc=e=>{if(e?.type!==zc)return!1;let{id:t,message:r}=e;return xr[t]?.resolve({isDeadlock:!1,hasListeners:r}),!0},Wc=async(e,t,r)=>{if(e?.type!==$r)return;let n=Z();xr[e.id]=n;let o=new AbortController;try{let{isDeadlock:i,hasListeners:s}=await Promise.race([n,qh(t,r,o)]);i&&gc(r),s||yc(r)}finally{o.abort(),delete xr[e.id]}},xr={},qh=async(e,t,{signal:r})=>{Ae(e,1,r),await(0,Nc.once)(e,"disconnect",{signal:r}),bc(t)},$r="execa:ipc:request",zc="execa:ipc:response"});var Vc,Gc,Lc,St,Er,Kh,yr=u(()=>{Je();ce();he();gr();Vc=(e,t,r)=>{St.has(e)||St.set(e,new Set);let n=St.get(e),o=Z(),i=r?t.id:void 0,s={onMessageSent:o,id:i};return n.add(s),{outgoingMessages:n,outgoingMessage:s}},Gc=({outgoingMessages:e,outgoingMessage:t})=>{e.delete(t),t.onMessageSent.resolve()},Lc=async(e,t,r)=>{for(;!Er(e,t)&&St.get(e)?.size>0;){let n=[...St.get(e)];jc(n,r),await Promise.all(n.map(({onMessageSent:o})=>o))}},St=new WeakMap,Er=(e,t)=>t.listenerCount("message")>Kh(e),Kh=e=>X.has(e)&&!ae(X.get(e).options.buffer,"ipc")?1:0});var Hc,vr,Jh,lo,Zh,co,Dr=u(()=>{Hc=require("node:util");Ke();yr();gr();vr=({anyProcess:e,channel:t,isSubprocess:r,ipc:n},o,{strict:i=!1}={})=>{let s="sendMessage";return Ye({methodName:s,isSubprocess:r,ipc:n,isConnected:e.connected}),Jh({anyProcess:e,channel:t,methodName:s,isSubprocess:r,message:o,strict:i})},Jh=async({anyProcess:e,channel:t,methodName:r,isSubprocess:n,message:o,strict:i})=>{let s=Bc({anyProcess:e,channel:t,isSubprocess:n,message:o,strict:i}),a=Vc(e,s,i);try{await lo({anyProcess:e,methodName:r,isSubprocess:n,wrappedMessage:s,message:o})}catch(c){throw qe(e),c}finally{Gc(a)}},lo=async({anyProcess:e,methodName:t,isSubprocess:r,wrappedMessage:n,message:o})=>{let i=Zh(e);try{await Promise.all([Wc(n,e,r),i(n)])}catch(s){throw xc({error:s,methodName:t,isSubprocess:r}),$c({error:s,methodName:t,isSubprocess:r,message:o}),s}},Zh=e=>{if(co.has(e))return co.get(e);let t=(0,Hc.promisify)(e.send.bind(e));return co.set(e,t),t},co=new WeakMap});var qc,Kc,Jc,Xh,Yc,_c,Zc,ao,uo,br=u(()=>{qc=require("node:timers/promises");Dr();wt();Ke();Kc=(e,t)=>{let r="cancelSignal";return oo(r,!1,e.connected),lo({anyProcess:e,methodName:r,isSubprocess:!1,wrappedMessage:{type:Zc,message:t},message:t})},Jc=async({anyProcess:e,channel:t,isSubprocess:r,ipc:n})=>(await Xh({anyProcess:e,channel:t,isSubprocess:r,ipc:n}),uo.signal),Xh=async({anyProcess:e,channel:t,isSubprocess:r,ipc:n})=>{if(!Yc){if(Yc=!0,!n){Sc();return}if(t===null){ao();return}ge(e,t,r),await qc.scheduler.yield()}},Yc=!1,_c=e=>e?.type!==Zc?!1:(uo.abort(e.message),!0),Zc="execa:ipc:cancel",ao=()=>{uo.abort(wc())},uo=new AbortController});var Xc,Qc,Qh,eg,fo=u(()=>{ro();br();ar();Xc=({gracefulCancel:e,cancelSignal:t,ipc:r,serialization:n})=>{if(e){if(t===void 0)throw new Error("The `cancelSignal` option must be defined when setting the `gracefulCancel` option.");if(!r)throw new Error("The `ipc` option cannot be false when setting the `gracefulCancel` option.");if(n==="json")throw new Error("The `serialization` option cannot be 'json' when setting the `gracefulCancel` option.")}},Qc=({subprocess:e,cancelSignal:t,gracefulCancel:r,forceKillAfterDelay:n,context:o,controller:i})=>r?[Qh({subprocess:e,cancelSignal:t,forceKillAfterDelay:n,context:o,controller:i})]:[],Qh=async({subprocess:e,cancelSignal:t,forceKillAfterDelay:r,context:n,controller:{signal:o}})=>{await cr(t,o);let i=eg(t);throw await Kc(e,i),to({kill:e.kill,forceKillAfterDelay:r,context:n,controllerSignal:o}),n.terminationReason??="gracefulCancel",t.reason},eg=({reason:e})=>{if(!(e instanceof DOMException))return e;let t=new Error(e.message);return Object.defineProperty(t,"stack",{value:e.stack,enumerable:!1,configurable:!0,writable:!0}),t}});var el,tl,rl,tg,po=u(()=>{el=require("node:timers/promises");De();tl=({timeout:e})=>{if(e!==void 0&&(!Number.isFinite(e)||e<0))throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${e}\` (${typeof e})`)},rl=(e,t,r,n)=>t===0||t===void 0?[]:[tg(e,t,r,n)],tg=async(e,t,r,{signal:n})=>{throw await(0,el.setTimeout)(t,void 0,{signal:n}),r.terminationReason??="timeout",e.kill(),new G}});var Ar,mo,nl,ol,ho=u(()=>{Ar=require("node:process"),mo=O(require("node:path"),1);Be();nl=({options:e})=>{if(e.node===!1)throw new TypeError('The "node" option cannot be false with `execaNode()`.');return{options:{...e,node:!0}}},ol=(e,t,{node:r=!1,nodePath:n=Ar.execPath,nodeOptions:o=Ar.execArgv.filter(c=>!c.startsWith("--inspect")),cwd:i,execPath:s,...a})=>{if(s!==void 0)throw new TypeError('The "execPath" option has been removed. Please use the "nodePath" option instead.');let c=Ne(n,'The "nodePath" option'),f=mo.default.resolve(i,c),l={...a,nodePath:f,node:r,cwd:i};if(!r)return[e,t,l];if(mo.default.basename(e,".exe")==="node")throw new TypeError('When the "node" option is true, the first argument does not need to be "node".');return[f,[...o,e,...t],{ipc:!0,...l,shell:!1}]}});var il,sl,rg,ng,og,al,go=u(()=>{il=require("node:v8"),sl=({ipcInput:e,ipc:t,serialization:r})=>{if(e!==void 0){if(!t)throw new Error("The `ipcInput` option cannot be set unless the `ipc` option is `true`.");og[r](e)}},rg=e=>{try{(0,il.serialize)(e)}catch(t){throw new Error("The `ipcInput` option is not serializable with a structured clone.",{cause:t})}},ng=e=>{try{JSON.stringify(e)}catch(t){throw new Error("The `ipcInput` option is not serializable with JSON.",{cause:t})}},og={advanced:rg,json:ng},al=async(e,t)=>{t!==void 0&&await e.sendMessage(t)}});var ll,ig,B,yo,sg,cl,Tr,Te=u(()=>{ll=({encoding:e})=>{if(yo.has(e))return;let t=sg(e);if(t!==void 0)throw new TypeError(`Invalid option \`encoding: ${Tr(e)}\`.
Please rename it to ${Tr(t)}.`);let r=[...yo].map(n=>Tr(n)).join(", ");throw new TypeError(`Invalid option \`encoding: ${Tr(e)}\`.
Please rename it to one of: ${r}.`)},ig=new Set(["utf8","utf16le"]),B=new Set(["buffer","hex","base64","base64url","latin1","ascii"]),yo=new Set([...ig,...B]),sg=e=>{if(e===null)return"buffer";if(typeof e!="string")return;let t=e.toLowerCase();if(t in cl)return cl[t];if(yo.has(t))return t},cl={"utf-8":"utf8","utf-16le":"utf16le","ucs-2":"utf16le",ucs2:"utf16le",binary:"latin1"},Tr=e=>typeof e=="string"?`"${e}"`:String(e)});var ul,fl,dl,pl,ml,hl,bo=u(()=>{ul=require("node:fs"),fl=O(require("node:path"),1),dl=O(require("node:process"),1);Be();pl=(e=ml())=>{let t=Ne(e,'The "cwd" option');return fl.default.resolve(t)},ml=()=>{try{return dl.default.cwd()}catch(e){throw e.message=`The current directory does not exist.
${e.message}`,e}},hl=(e,t)=>{if(t===ml())return e;let r;try{r=(0,ul.statSync)(t)}catch(n){return`The "cwd" option is invalid: ${t}.
${n.message}
${e}`}return r.isDirectory()?e:`The "cwd" option is not a directory: ${t}.
${e}`}});var gl,wo,yl,Ir,ag,cg,So=u(()=>{gl=O(require("node:path"),1),wo=O(require("node:process"),1),yl=O(Ua(),1);za();ar();gt();no();fo();po();ho();go();Te();bo();Be();ce();Ir=(e,t,r)=>{r.cwd=pl(r.cwd);let[n,o,i]=ol(e,t,r),{command:s,args:a,options:c}=yl.default._parse(n,o,i),f=$s(c),l=ag(f);return tl(l),ll(l),sl(l),pc(l),Xc(l),l.shell=On(l.shell),l.env=cg(l),l.killSignal=sc(l.killSignal),l.forceKillAfterDelay=uc(l.forceKillAfterDelay),l.lines=l.lines.map((d,p)=>d&&!B.has(l.encoding)&&l.buffer[p]),wo.default.platform==="win32"&&gl.default.basename(s,".exe")==="cmd"&&a.unshift("/q"),{file:s,commandArguments:a,options:l}},ag=({extendEnv:e=!0,preferLocal:t=!1,cwd:r,localDir:n=r,encoding:o="utf8",reject:i=!0,cleanup:s=!0,all:a=!1,windowsHide:c=!0,killSignal:f="SIGTERM",forceKillAfterDelay:l=!0,gracefulCancel:d=!1,ipcInput:p,ipc:m=p!==void 0||d,serialization:g="advanced",...b})=>({...b,extendEnv:e,preferLocal:t,cwd:r,localDirectory:n,encoding:o,reject:i,cleanup:s,all:a,windowsHide:c,killSignal:f,forceKillAfterDelay:l,gracefulCancel:d,ipcInput:p,ipc:m,serialization:g}),cg=({env:e,extendEnv:t,preferLocal:r,node:n,localDirectory:o,nodePath:i})=>{let s=t?{...wo.default.env,...e}:e;return r||n?Wa({env:s,cwd:o,execPath:i,preferLocal:r,addExecPath:n}):s}});var Or,xo=u(()=>{Or=(e,t,r)=>r.shell&&t.length>0?[[e,...t].join(" "),[],r]:[e,t,r]});function Xe(e){if(typeof e=="string")return lg(e);if(!(ArrayBuffer.isView(e)&&e.BYTES_PER_ELEMENT===1))throw new Error("Input must be a string or a Uint8Array");return ug(e)}var lg,ug,bl,fg,wl,dg,$o=u(()=>{lg=e=>e.at(-1)===bl?e.slice(0,e.at(-2)===wl?-2:-1):e,ug=e=>e.at(-1)===fg?e.subarray(0,e.at(-2)===dg?-2:-1):e,bl=`
`,fg=bl.codePointAt(0),wl="\r",dg=wl.codePointAt(0)});function Y(e,{checkOpen:t=!0}={}){return e!==null&&typeof e=="object"&&(e.writable||e.readable||!t||e.writable===void 0&&e.readable===void 0)&&typeof e.pipe=="function"}function Eo(e,{checkOpen:t=!0}={}){return Y(e,{checkOpen:t})&&(e.writable||!t)&&typeof e.write=="function"&&typeof e.end=="function"&&typeof e.writable=="boolean"&&typeof e.writableObjectMode=="boolean"&&typeof e.destroy=="function"&&typeof e.destroyed=="boolean"}function Ie(e,{checkOpen:t=!0}={}){return Y(e,{checkOpen:t})&&(e.readable||!t)&&typeof e.read=="function"&&typeof e.readable=="boolean"&&typeof e.readableObjectMode=="boolean"&&typeof e.destroy=="function"&&typeof e.destroyed=="boolean"}function vo(e,t){return Eo(e,t)&&Ie(e,t)}var Oe=u(()=>{});function Sl(){return this[Ao].next()}function xl(e){return this[Ao].return(e)}function To({preventCancel:e=!1}={}){let t=this.getReader(),r=new Do(t,e),n=Object.create(mg);return n[Ao]=r,n}var pg,Do,Ao,mg,$l=u(()=>{pg=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype),Do=class{#t;#r;#e=!1;#n=void 0;constructor(t,r){this.#t=t,this.#r=r}next(){let t=()=>this.#i();return this.#n=this.#n?this.#n.then(t,t):t(),this.#n}return(t){let r=()=>this.#o(t);return this.#n?this.#n.then(r,r):r()}async#i(){if(this.#e)return{done:!0,value:void 0};let t;try{t=await this.#t.read()}catch(r){throw this.#n=void 0,this.#e=!0,this.#t.releaseLock(),r}return t.done&&(this.#n=void 0,this.#e=!0,this.#t.releaseLock()),t}async#o(t){if(this.#e)return{done:!0,value:t};if(this.#e=!0,!this.#r){let r=this.#t.cancel(t);return this.#t.releaseLock(),await r,{done:!0,value:t}}return this.#t.releaseLock(),{done:!0,value:t}}},Ao=Symbol();Object.defineProperty(Sl,"name",{value:"next"});Object.defineProperty(xl,"name",{value:"return"});mg=Object.create(pg,{next:{enumerable:!0,configurable:!0,writable:!0,value:Sl},return:{enumerable:!0,configurable:!0,writable:!0,value:xl}})});var El=u(()=>{});var vl=u(()=>{$l();El()});var Dl,hg,gg,yg,xt,Io=u(()=>{Oe();vl();Dl=e=>{if(Ie(e,{checkOpen:!1})&&xt.on!==void 0)return gg(e);if(typeof e?.[Symbol.asyncIterator]=="function")return e;if(hg.call(e)==="[object ReadableStream]")return To.call(e);throw new TypeError("The first argument must be a Readable, a ReadableStream, or an async iterable.")},{toString:hg}=Object.prototype,gg=async function*(e){let t=new AbortController,r={};yg(e,t,r);try{for await(let[n]of xt.on(e,"data",{signal:t.signal}))yield n}catch(n){if(r.error!==void 0)throw r.error;if(!t.signal.aborted)throw n}finally{e.destroy()}},yg=async(e,t,r)=>{try{await xt.finished(e,{cleanup:!0,readable:!0,writable:!1,error:!1})}catch(n){r.error=n}finally{t.abort()}},xt={}});var Qe,bg,Il,Al,wg,Tl,Q,$t=u(()=>{Io();Qe=async(e,{init:t,convertChunk:r,getSize:n,truncateChunk:o,addChunk:i,getFinalChunk:s,finalize:a},{maxBuffer:c=Number.POSITIVE_INFINITY}={})=>{let f=Dl(e),l=t();l.length=0;try{for await(let d of f){let p=wg(d),m=r[p](d,l);Il({convertedChunk:m,state:l,getSize:n,truncateChunk:o,addChunk:i,maxBuffer:c})}return bg({state:l,convertChunk:r,getSize:n,truncateChunk:o,addChunk:i,getFinalChunk:s,maxBuffer:c}),a(l)}catch(d){let p=typeof d=="object"&&d!==null?d:new Error(d);throw p.bufferedData=a(l),p}},bg=({state:e,getSize:t,truncateChunk:r,addChunk:n,getFinalChunk:o,maxBuffer:i})=>{let s=o(e);s!==void 0&&Il({convertedChunk:s,state:e,getSize:t,truncateChunk:r,addChunk:n,maxBuffer:i})},Il=({convertedChunk:e,state:t,getSize:r,truncateChunk:n,addChunk:o,maxBuffer:i})=>{let s=r(e),a=t.length+s;if(a<=i){Al(e,t,o,a);return}let c=n(e,i-t.length);throw c!==void 0&&Al(c,t,o,i),new Q},Al=(e,t,r,n)=>{t.contents=r(e,t,n),t.length=n},wg=e=>{let t=typeof e;if(t==="string")return"string";if(t!=="object"||e===null)return"others";if(globalThis.Buffer?.isBuffer(e))return"buffer";let r=Tl.call(e);return r==="[object ArrayBuffer]"?"arrayBuffer":r==="[object DataView]"?"dataView":Number.isInteger(e.byteLength)&&Number.isInteger(e.byteOffset)&&Tl.call(e.buffer)==="[object ArrayBuffer]"?"typedArray":"others"},{toString:Tl}=Object.prototype,Q=class extends Error{name="MaxBufferError";constructor(){super("maxBuffer exceeded")}}});var le,Et,kr,Rr,Pr,Cr=u(()=>{le=e=>e,Et=()=>{},kr=({contents:e})=>e,Rr=e=>{throw new Error(`Streams in object mode are not supported: ${String(e)}`)},Pr=e=>e.length});async function Mr(e,t){return Qe(e,Eg,t)}var Sg,xg,$g,Eg,Ol=u(()=>{$t();Cr();Sg=()=>({contents:[]}),xg=()=>1,$g=(e,{contents:t})=>(t.push(e),t),Eg={init:Sg,convertChunk:{string:le,buffer:le,arrayBuffer:le,dataView:le,typedArray:le,others:le},getSize:xg,truncateChunk:Et,addChunk:$g,getFinalChunk:Et,finalize:kr}});async function Ur(e,t){return Qe(e,Pg,t)}var vg,Dg,Ag,kl,Rl,Tg,Ig,Og,kg,Cl,Pl,Rg,Ml,Pg,Ul=u(()=>{$t();Cr();vg=()=>({contents:new ArrayBuffer(0)}),Dg=e=>Ag.encode(e),Ag=new TextEncoder,kl=e=>new Uint8Array(e),Rl=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength),Tg=(e,t)=>e.slice(0,t),Ig=(e,{contents:t,length:r},n)=>{let o=Ml()?kg(t,n):Og(t,n);return new Uint8Array(o).set(e,r),o},Og=(e,t)=>{if(t<=e.byteLength)return e;let r=new ArrayBuffer(Cl(t));return new Uint8Array(r).set(new Uint8Array(e),0),r},kg=(e,t)=>{if(t<=e.maxByteLength)return e.resize(t),e;let r=new ArrayBuffer(t,{maxByteLength:Cl(t)});return new Uint8Array(r).set(new Uint8Array(e),0),r},Cl=e=>Pl**Math.ceil(Math.log(e)/Math.log(Pl)),Pl=2,Rg=({contents:e,length:t})=>Ml()?e:e.slice(0,t),Ml=()=>"resize"in ArrayBuffer.prototype,Pg={init:vg,convertChunk:{string:Dg,buffer:kl,arrayBuffer:kl,dataView:Rl,typedArray:Rl,others:Rr},getSize:Pr,truncateChunk:Tg,addChunk:Ig,getFinalChunk:Et,finalize:Rg}});async function _r(e,t){return Qe(e,_g,t)}var Cg,Lr,Mg,Ug,Lg,_g,Ll=u(()=>{$t();Cr();Cg=()=>({contents:"",textDecoder:new TextDecoder}),Lr=(e,{textDecoder:t})=>t.decode(e,{stream:!0}),Mg=(e,{contents:t})=>t+e,Ug=(e,t)=>e.slice(0,t),Lg=({textDecoder:e})=>{let t=e.decode();return t===""?void 0:t},_g={init:Cg,convertChunk:{string:le,buffer:Lr,arrayBuffer:Lr,dataView:Lr,typedArray:Lr,others:Rr},getSize:Pr,truncateChunk:Ug,addChunk:Mg,getFinalChunk:Lg,finalize:kr}});var _l=u(()=>{Ol();Ul();Ll();$t()});var Fl,Nl,Fr=u(()=>{Fl=require("node:events"),Nl=require("node:stream/promises");Io();_l();Object.assign(xt,{on:Fl.on,finished:Nl.finished})});var Bl,Fg,jl,Wl,Ng,zl,Vl,Nr,ke=u(()=>{Fr();se();ce();Bl=({error:e,stream:t,readableObjectMode:r,lines:n,encoding:o,fdNumber:i})=>{if(!(e instanceof Q))throw e;if(i==="all")return e;let s=Fg(r,n,o);throw e.maxBufferInfo={fdNumber:i,unit:s},t.destroy(),e},Fg=(e,t,r)=>e?"objects":t?"lines":r==="buffer"?"bytes":"characters",jl=(e,t,r)=>{if(t.length!==r)return;let n=new Q;throw n.maxBufferInfo={fdNumber:"ipc"},n},Wl=(e,t)=>{let{streamName:r,threshold:n,unit:o}=Ng(e,t);return`Command's ${r} was larger than ${n} ${o}`},Ng=(e,t)=>{if(e?.maxBufferInfo===void 0)return{streamName:"output",threshold:t[1],unit:"bytes"};let{maxBufferInfo:{fdNumber:r,unit:n}}=e;delete e.maxBufferInfo;let o=ae(t,r);return r==="ipc"?{streamName:"IPC output",threshold:o,unit:"messages"}:{streamName:Gt(r),threshold:o,unit:n}},zl=(e,t,r)=>e?.code==="ENOBUFS"&&t!==null&&t.some(n=>n!==null&&n.length>Nr(r)),Vl=(e,t,r)=>{if(!t)return e;let n=Nr(r);return e.length>n?e.slice(0,n):e},Nr=([,e])=>e});var Hl,Yl,Bg,jg,Wg,zg,Vg,Gl,ql=u(()=>{Hl=require("node:util");$o();N();bo();qt();ke();gt();De();Yl=({stdio:e,all:t,ipcOutput:r,originalError:n,signal:o,signalDescription:i,exitCode:s,escapedCommand:a,timedOut:c,isCanceled:f,isGracefullyCanceled:l,isMaxBuffer:d,isForcefullyTerminated:p,forceKillAfterDelay:m,killSignal:g,maxBuffer:b,timeout:D,cwd:x})=>{let h=n?.code,S=Bg({originalError:n,timedOut:c,timeout:D,isMaxBuffer:d,maxBuffer:b,errorCode:h,signal:o,signalDescription:i,exitCode:s,isCanceled:f,isGracefullyCanceled:l,isForcefullyTerminated:p,forceKillAfterDelay:m,killSignal:g}),A=Wg(n,x),M=A===void 0?"":`
${A}`,q=`${S}: ${a}${M}`,ne=t===void 0?[e[2],e[1]]:[t],fe=[q,...ne,...e.slice(3),r.map(K=>zg(K)).join(`
`)].map(K=>dt(Xe(Vg(K)))).filter(Boolean).join(`

`);return{originalMessage:A,shortMessage:q,message:fe}},Bg=({originalError:e,timedOut:t,timeout:r,isMaxBuffer:n,maxBuffer:o,errorCode:i,signal:s,signalDescription:a,exitCode:c,isCanceled:f,isGracefullyCanceled:l,isForcefullyTerminated:d,forceKillAfterDelay:p,killSignal:m})=>{let g=jg(d,p);return t?`Command timed out after ${r} milliseconds${g}`:l?s===void 0?`Command was gracefully canceled with exit code ${c}`:d?`Command was gracefully canceled${g}`:`Command was gracefully canceled with ${s} (${a})`:f?`Command was canceled${g}`:n?`${Wl(e,o)}${g}`:i!==void 0?`Command failed with ${i}${g}`:d?`Command was killed with ${m} (${sr(m)})${g}`:s!==void 0?`Command was killed with ${s} (${a})`:c!==void 0?`Command failed with exit code ${c}`:"Command failed"},jg=(e,t)=>e?` and was forcefully terminated after ${t} milliseconds`:"",Wg=(e,t)=>{if(e instanceof G)return;let r=Ha(e)?e.originalMessage:String(e?.message??e),n=dt(hl(r,t));return n===""?void 0:n},zg=e=>typeof e=="string"?e:(0,Hl.inspect)(e),Vg=e=>Array.isArray(e)?e.map(t=>Xe(Gl(t))).filter(Boolean).join(`
`):Gl(e),Gl=e=>typeof e=="string"?e:k(e)?Wt(e):""});var Br,et,vt,Gg,Kl,Hg,Dt=u(()=>{gt();er();De();ql();Br=({command:e,escapedCommand:t,stdio:r,all:n,ipcOutput:o,options:{cwd:i},startTime:s})=>Kl({command:e,escapedCommand:t,cwd:i,durationMs:Bn(s),failed:!1,timedOut:!1,isCanceled:!1,isGracefullyCanceled:!1,isTerminated:!1,isMaxBuffer:!1,isForcefullyTerminated:!1,exitCode:0,stdout:r[1],stderr:r[2],all:n,stdio:r,ipcOutput:o,pipedFrom:[]}),et=({error:e,command:t,escapedCommand:r,fileDescriptors:n,options:o,startTime:i,isSync:s})=>vt({error:e,command:t,escapedCommand:r,startTime:i,timedOut:!1,isCanceled:!1,isGracefullyCanceled:!1,isMaxBuffer:!1,isForcefullyTerminated:!1,stdio:Array.from({length:n.length}),ipcOutput:[],options:o,isSync:s}),vt=({error:e,command:t,escapedCommand:r,startTime:n,timedOut:o,isCanceled:i,isGracefullyCanceled:s,isMaxBuffer:a,isForcefullyTerminated:c,exitCode:f,signal:l,stdio:d,all:p,ipcOutput:m,options:{timeoutDuration:g,timeout:b=g,forceKillAfterDelay:D,killSignal:x,cwd:h,maxBuffer:S},isSync:A})=>{let{exitCode:M,signal:q,signalDescription:ne}=Hg(f,l),{originalMessage:fe,shortMessage:K,message:ut}=Yl({stdio:d,all:p,ipcOutput:m,originalError:e,signal:q,signalDescription:ne,exitCode:M,escapedCommand:r,timedOut:o,isCanceled:i,isGracefullyCanceled:s,isMaxBuffer:a,isForcefullyTerminated:c,forceKillAfterDelay:D,killSignal:x,maxBuffer:S,timeout:b,cwd:h}),U=Va(e,ut,A);return Object.assign(U,Gg({error:U,command:t,escapedCommand:r,startTime:n,timedOut:o,isCanceled:i,isGracefullyCanceled:s,isMaxBuffer:a,isForcefullyTerminated:c,exitCode:M,signal:q,signalDescription:ne,stdio:d,all:p,ipcOutput:m,cwd:h,originalMessage:fe,shortMessage:K})),U},Gg=({error:e,command:t,escapedCommand:r,startTime:n,timedOut:o,isCanceled:i,isGracefullyCanceled:s,isMaxBuffer:a,isForcefullyTerminated:c,exitCode:f,signal:l,signalDescription:d,stdio:p,all:m,ipcOutput:g,cwd:b,originalMessage:D,shortMessage:x})=>Kl({shortMessage:x,originalMessage:D,command:t,escapedCommand:r,cwd:b,durationMs:Bn(n),failed:!0,timedOut:o,isCanceled:i,isGracefullyCanceled:s,isTerminated:l!==void 0,isMaxBuffer:a,isForcefullyTerminated:c,exitCode:f,signal:l,signalDescription:d,code:e.cause?.code,stdout:p[1],stderr:p[2],all:m,stdio:p,ipcOutput:g,pipedFrom:[]}),Kl=e=>Object.fromEntries(Object.entries(e).filter(([,t])=>t!==void 0)),Hg=(e,t)=>{let r=e===null?void 0:e,n=t===null?void 0:t,o=n===void 0?void 0:sr(t);return{exitCode:r,signal:n,signalDescription:o}}});function Yg(e){return{days:Math.trunc(e/864e5),hours:Math.trunc(e/36e5%24),minutes:Math.trunc(e/6e4%60),seconds:Math.trunc(e/1e3%60),milliseconds:Math.trunc(e%1e3),microseconds:Math.trunc(Jl(e*1e3)%1e3),nanoseconds:Math.trunc(Jl(e*1e6)%1e3)}}function qg(e){return{days:e/86400000n,hours:e/3600000n%24n,minutes:e/60000n%60n,seconds:e/1000n%60n,milliseconds:e%1000n,microseconds:0n,nanoseconds:0n}}function Oo(e){switch(typeof e){case"number":{if(Number.isFinite(e))return Yg(e);break}case"bigint":return qg(e)}throw new TypeError("Expected a finite number or bigint")}var Jl,Zl=u(()=>{Jl=e=>Number.isFinite(e)?e:0});function ko(e,t){let r=typeof e=="bigint";if(!r&&!Number.isFinite(e))throw new TypeError("Expected a finite number or bigint");t={...t};let n=e<0?"-":"";e=e<0?-e:e,t.colonNotation&&(t.compact=!1,t.formatSubMilliseconds=!1,t.separateMilliseconds=!1,t.verbose=!1),t.compact&&(t.unitCount=1,t.secondsDecimalDigits=0,t.millisecondsDecimalDigits=0);let o=[],i=(l,d)=>{let p=Math.floor(l*10**d+Zg);return(Math.round(p)/10**d).toFixed(d)},s=(l,d,p,m)=>{if(!((o.length===0||!t.colonNotation)&&Kg(l)&&!(t.colonNotation&&p==="m"))){if(m??=String(l),t.colonNotation){let g=m.includes(".")?m.split(".")[0].length:m.length,b=o.length>0?2:1;m="0".repeat(Math.max(0,b-g))+m}else m+=t.verbose?" "+Jg(d,l):p;o.push(m)}},a=Oo(e),c=BigInt(a.days);if(t.hideYearAndDays?s(BigInt(c)*24n+BigInt(a.hours),"hour","h"):(t.hideYear?s(c,"day","d"):(s(c/365n,"year","y"),s(c%365n,"day","d")),s(Number(a.hours),"hour","h")),s(Number(a.minutes),"minute","m"),!t.hideSeconds)if(t.separateMilliseconds||t.formatSubMilliseconds||!t.colonNotation&&e<1e3&&!t.subSecondsAsDecimals){let l=Number(a.seconds),d=Number(a.milliseconds),p=Number(a.microseconds),m=Number(a.nanoseconds);if(s(l,"second","s"),t.formatSubMilliseconds)s(d,"millisecond","ms"),s(p,"microsecond","\xB5s"),s(m,"nanosecond","ns");else{let g=d+p/1e3+m/1e6,b=typeof t.millisecondsDecimalDigits=="number"?t.millisecondsDecimalDigits:0,D=g>=1?Math.round(g):Math.ceil(g),x=b?g.toFixed(b):D;s(Number.parseFloat(x),"millisecond","ms",x)}}else{let l=(r?Number(e%Xg):e)/1e3%60,d=typeof t.secondsDecimalDigits=="number"?t.secondsDecimalDigits:1,p=i(l,d),m=t.keepDecimalsOnWholeSeconds?p:p.replace(/\.0+$/,"");s(Number.parseFloat(m),"second","s",m)}if(o.length===0)return n+"0"+(t.verbose?" milliseconds":"ms");let f=t.colonNotation?":":" ";return typeof t.unitCount=="number"&&(o=o.slice(0,Math.max(t.unitCount,1))),n+o.join(f)}var Kg,Jg,Zg,Xg,Xl=u(()=>{Zl();Kg=e=>e===0||e===0n,Jg=(e,t)=>t===1||t===1n?e:`${e}s`,Zg=1e-7,Xg=24n*60n*60n*1000n});var Ql,eu=u(()=>{ze();Ql=(e,t)=>{e.failed&&J({type:"error",verboseMessage:e.shortMessage,verboseInfo:t,result:e})}});var tu,Qg,ru=u(()=>{Xl();de();ze();eu();tu=(e,t)=>{je(t)&&(Ql(e,t),Qg(e,t))},Qg=(e,t)=>{let r=`(done in ${ko(e.durationMs)})`;J({type:"duration",verboseMessage:r,verboseInfo:t,result:e})}});var tt,jr=u(()=>{ru();tt=(e,t,{reject:r})=>{if(tu(e,t),e.failed&&r)throw e;return e}});var iu,ey,ty,su,au,nu,ry,Ro,ou,Re,cu,ny,Wr,lu,oy,iy,Po,uu,sy,fu,zr,ay,Co,cy,ly,du,z,Vr,Mo,pu,mu,ye,C=u(()=>{Oe();oe();N();iu=(e,t)=>Re(e)?"asyncGenerator":cu(e)?"generator":Wr(e)?"fileUrl":oy(e)?"filePath":ay(e)?"webStream":Y(e,{checkOpen:!1})?"native":k(e)?"uint8Array":cy(e)?"asyncIterable":ly(e)?"iterable":Co(e)?su({transform:e},t):ny(e)?ey(e,t):"native",ey=(e,t)=>vo(e.transform,{checkOpen:!1})?ty(e,t):Co(e.transform)?su(e,t):ry(e,t),ty=(e,t)=>(au(e,t,"Duplex stream"),"duplex"),su=(e,t)=>(au(e,t,"web TransformStream"),"webTransform"),au=({final:e,binary:t,objectMode:r},n,o)=>{nu(e,`${n}.final`,o),nu(t,`${n}.binary`,o),Ro(r,`${n}.objectMode`)},nu=(e,t,r)=>{if(e!==void 0)throw new TypeError(`The \`${t}\` option can only be defined when using a generator, not a ${r}.`)},ry=({transform:e,final:t,binary:r,objectMode:n},o)=>{if(e!==void 0&&!ou(e))throw new TypeError(`The \`${o}.transform\` option must be a generator, a Duplex stream or a web TransformStream.`);if(vo(t,{checkOpen:!1}))throw new TypeError(`The \`${o}.final\` option must not be a Duplex stream.`);if(Co(t))throw new TypeError(`The \`${o}.final\` option must not be a web TransformStream.`);if(t!==void 0&&!ou(t))throw new TypeError(`The \`${o}.final\` option must be a generator.`);return Ro(r,`${o}.binary`),Ro(n,`${o}.objectMode`),Re(e)||Re(t)?"asyncGenerator":"generator"},Ro=(e,t)=>{if(e!==void 0&&typeof e!="boolean")throw new TypeError(`The \`${t}\` option must use a boolean.`)},ou=e=>Re(e)||cu(e),Re=e=>Object.prototype.toString.call(e)==="[object AsyncGeneratorFunction]",cu=e=>Object.prototype.toString.call(e)==="[object GeneratorFunction]",ny=e=>I(e)&&(e.transform!==void 0||e.final!==void 0),Wr=e=>Object.prototype.toString.call(e)==="[object URL]",lu=e=>Wr(e)&&e.protocol!=="file:",oy=e=>I(e)&&Object.keys(e).length>0&&Object.keys(e).every(t=>iy.has(t))&&Po(e.file),iy=new Set(["file","append"]),Po=e=>typeof e=="string",uu=(e,t)=>e==="native"&&typeof t=="string"&&!sy.has(t),sy=new Set(["ipc","ignore","inherit","overlapped","pipe"]),fu=e=>Object.prototype.toString.call(e)==="[object ReadableStream]",zr=e=>Object.prototype.toString.call(e)==="[object WritableStream]",ay=e=>fu(e)||zr(e),Co=e=>fu(e?.readable)&&zr(e?.writable),cy=e=>du(e)&&typeof e[Symbol.asyncIterator]=="function",ly=e=>du(e)&&typeof e[Symbol.iterator]=="function",du=e=>typeof e=="object"&&e!==null,z=new Set(["generator","asyncGenerator","duplex","webTransform"]),Vr=new Set(["fileUrl","filePath","fileNumber"]),Mo=new Set(["fileUrl","filePath"]),pu=new Set([...Mo,"webStream","nodeStream"]),mu=new Set(["webTransform","duplex"]),ye={generator:"a generator",asyncGenerator:"an async generator",fileUrl:"a file URL",filePath:"a file path string",fileNumber:"a file descriptor number",webStream:"a web stream",nodeStream:"a Node.js stream",webTransform:"a web TransformStream",duplex:"a Duplex stream",native:"any value",iterable:"an iterable",asyncIterable:"an async iterable",string:"a string",uint8Array:"a Uint8Array"}});var Uo,uy,fy,hu,Lo=u(()=>{C();Uo=(e,t,r,n)=>n==="output"?uy(e,t,r):fy(e,t,r),uy=(e,t,r)=>{let n=t!==0&&r[t-1].value.readableObjectMode;return{writableObjectMode:n,readableObjectMode:e??n}},fy=(e,t,r)=>{let n=t===0?e===!0:r[t-1].value.readableObjectMode,o=t!==r.length-1&&(e??n);return{writableObjectMode:n,readableObjectMode:o}},hu=(e,t)=>{let r=e.findLast(({type:n})=>z.has(n));return r===void 0?!1:t==="input"?r.value.writableObjectMode:r.value.readableObjectMode}});var gu,dy,py,my,hy,gy,yy,yu=u(()=>{oe();Te();C();Lo();gu=(e,t,r,n)=>[...e.filter(({type:o})=>!z.has(o)),...dy(e,t,r,n)],dy=(e,t,r,{encoding:n})=>{let o=e.filter(({type:s})=>z.has(s)),i=Array.from({length:o.length});for(let[s,a]of Object.entries(o))i[s]=py({stdioItem:a,index:Number(s),newTransforms:i,optionName:t,direction:r,encoding:n});return yy(i,r)},py=({stdioItem:e,stdioItem:{type:t},index:r,newTransforms:n,optionName:o,direction:i,encoding:s})=>t==="duplex"?my({stdioItem:e,optionName:o}):t==="webTransform"?hy({stdioItem:e,index:r,newTransforms:n,direction:i}):gy({stdioItem:e,index:r,newTransforms:n,direction:i,encoding:s}),my=({stdioItem:e,stdioItem:{value:{transform:t,transform:{writableObjectMode:r,readableObjectMode:n},objectMode:o=n}},optionName:i})=>{if(o&&!n)throw new TypeError(`The \`${i}.objectMode\` option can only be \`true\` if \`new Duplex({objectMode: true})\` is used.`);if(!o&&n)throw new TypeError(`The \`${i}.objectMode\` option cannot be \`false\` if \`new Duplex({objectMode: true})\` is used.`);return{...e,value:{transform:t,writableObjectMode:r,readableObjectMode:n}}},hy=({stdioItem:e,stdioItem:{value:t},index:r,newTransforms:n,direction:o})=>{let{transform:i,objectMode:s}=I(t)?t:{transform:t},{writableObjectMode:a,readableObjectMode:c}=Uo(s,r,n,o);return{...e,value:{transform:i,writableObjectMode:a,readableObjectMode:c}}},gy=({stdioItem:e,stdioItem:{value:t},index:r,newTransforms:n,direction:o,encoding:i})=>{let{transform:s,final:a,binary:c=!1,preserveNewlines:f=!1,objectMode:l}=I(t)?t:{transform:t},d=c||B.has(i),{writableObjectMode:p,readableObjectMode:m}=Uo(l,r,n,o);return{...e,value:{transform:s,final:a,binary:d,preserveNewlines:f,writableObjectMode:p,readableObjectMode:m}}},yy=(e,t)=>t==="input"?e.reverse():e});var Gr,bu,by,wy,rt,_o,wu,Sy,xy,Su=u(()=>{Gr=O(require("node:process"),1);Oe();C();bu=(e,t,r)=>{let n=e.map(o=>by(o,t));if(n.includes("input")&&n.includes("output"))throw new TypeError(`The \`${r}\` option must not be an array of both readable and writable values.`);return n.find(Boolean)??xy},by=({type:e,value:t},r)=>wy[r]??wu[e](t),wy=["input","output","output"],rt=()=>{},_o=()=>"input",wu={generator:rt,asyncGenerator:rt,fileUrl:rt,filePath:rt,iterable:_o,asyncIterable:_o,uint8Array:_o,webStream:e=>zr(e)?"output":"input",nodeStream(e){return Ie(e,{checkOpen:!1})?Eo(e,{checkOpen:!1})?void 0:"input":"output"},webTransform:rt,duplex:rt,native(e){let t=Sy(e);if(t!==void 0)return t;if(Y(e,{checkOpen:!1}))return wu.nodeStream(e)}},Sy=e=>{if([0,Gr.default.stdin].includes(e))return"input";if([1,2,Gr.default.stdout,Gr.default.stderr].includes(e))return"output"},xy="output"});var xu,$u=u(()=>{xu=(e,t)=>t&&!e.includes("ipc")?[...e,"ipc"]:e});var Eu,$y,Ey,vu,vy,Dy,Du=u(()=>{se();$u();de();Eu=({stdio:e,ipc:t,buffer:r,...n},o,i)=>{let s=$y(e,n).map((a,c)=>vu(a,c));return i?vy(s,r,o):xu(s,t)},$y=(e,t)=>{if(e===void 0)return W.map(n=>t[n]);if(Ey(t))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${W.map(n=>`\`${n}\``).join(", ")}`);if(typeof e=="string")return[e,e,e];if(!Array.isArray(e))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof e}\``);let r=Math.max(e.length,W.length);return Array.from({length:r},(n,o)=>e[o])},Ey=e=>W.some(t=>e[t]!==void 0),vu=(e,t)=>Array.isArray(e)?e.map(r=>vu(r,t)):e??(t>=W.length?"ignore":"pipe"),vy=(e,t,r)=>e.map((n,o)=>!t[o]&&o!==0&&!We(r,o)&&Dy(n)?"ignore":n),Dy=e=>e==="pipe"||Array.isArray(e)&&e.every(t=>t==="pipe")});var Tu,Iu,Ou,Ay,Ty,Iy,Oy,Au,ku=u(()=>{Tu=require("node:fs"),Iu=O(require("node:tty"),1);Oe();se();N();he();Ou=({stdioItem:e,stdioItem:{type:t},isStdioArray:r,fdNumber:n,direction:o,isSync:i})=>!r||t!=="native"?e:i?Ay({stdioItem:e,fdNumber:n,direction:o}):Oy({stdioItem:e,fdNumber:n}),Ay=({stdioItem:e,stdioItem:{value:t,optionName:r},fdNumber:n,direction:o})=>{let i=Ty({value:t,optionName:r,fdNumber:n,direction:o});if(i!==void 0)return i;if(Y(t,{checkOpen:!1}))throw new TypeError(`The \`${r}: Stream\` option cannot both be an array and include a stream with synchronous methods.`);return e},Ty=({value:e,optionName:t,fdNumber:r,direction:n})=>{let o=Iy(e,r);if(o!==void 0){if(n==="output")return{type:"fileNumber",value:o,optionName:t};if(Iu.default.isatty(o))throw new TypeError(`The \`${t}: ${ur(e)}\` option is invalid: it cannot be a TTY with synchronous methods.`);return{type:"uint8Array",value:ie((0,Tu.readFileSync)(o)),optionName:t}}},Iy=(e,t)=>{if(e==="inherit")return t;if(typeof e=="number")return e;let r=Vt.indexOf(e);if(r!==-1)return r},Oy=({stdioItem:e,stdioItem:{value:t,optionName:r},fdNumber:n})=>t==="inherit"?{type:"nodeStream",value:Au(n,t,r),optionName:r}:typeof t=="number"?{type:"nodeStream",value:Au(t,t,r),optionName:r}:Y(t,{checkOpen:!1})?{type:"nodeStream",value:t,optionName:r}:e,Au=(e,t,r)=>{let n=Vt[e];if(n===void 0)throw new TypeError(`The \`${r}: ${t}\` option is invalid: no such standard stream.`);return n}});var Ru,ky,Ry,Py,Cy,Pu=u(()=>{Oe();N();C();Ru=({input:e,inputFile:t},r)=>r===0?[...ky(e),...Py(t)]:[],ky=e=>e===void 0?[]:[{type:Ry(e),value:e,optionName:"input"}],Ry=e=>{if(Ie(e,{checkOpen:!1}))return"nodeStream";if(typeof e=="string")return"string";if(k(e))return"uint8Array";throw new Error("The `input` option must be a string, a Uint8Array or a Node.js Readable stream.")},Py=e=>e===void 0?[]:[{...Cy(e),optionName:"inputFile"}],Cy=e=>{if(Wr(e))return{type:"fileUrl",value:e};if(Po(e))return{type:"filePath",value:{file:e}};throw new Error("The `inputFile` option must be a file path string or a file URL.")}});var Cu,Mu,My,Uy,Uu,Ly,_y,Lu,_u=u(()=>{C();Cu=e=>e.filter((t,r)=>e.every((n,o)=>t.value!==n.value||r>=o||t.type==="generator"||t.type==="asyncGenerator")),Mu=({stdioItem:{type:e,value:t,optionName:r},direction:n,fileDescriptors:o,isSync:i})=>{let s=My(o,e);if(s.length!==0){if(i){Uy({otherStdioItems:s,type:e,value:t,optionName:r,direction:n});return}if(pu.has(e))return Uu({otherStdioItems:s,type:e,value:t,optionName:r,direction:n});mu.has(e)&&_y({otherStdioItems:s,type:e,value:t,optionName:r})}},My=(e,t)=>e.flatMap(({direction:r,stdioItems:n})=>n.filter(o=>o.type===t).map((o=>({...o,direction:r})))),Uy=({otherStdioItems:e,type:t,value:r,optionName:n,direction:o})=>{Mo.has(t)&&Uu({otherStdioItems:e,type:t,value:r,optionName:n,direction:o})},Uu=({otherStdioItems:e,type:t,value:r,optionName:n,direction:o})=>{let i=e.filter(a=>Ly(a,r));if(i.length===0)return;let s=i.find(a=>a.direction!==o);return Lu(s,n,t),o==="output"?i[0].stream:void 0},Ly=({type:e,value:t},r)=>e==="filePath"?t.file===r.file:e==="fileUrl"?t.href===r.href:t===r,_y=({otherStdioItems:e,type:t,value:r,optionName:n})=>{let o=e.find(({value:{transform:i}})=>i===r.transform);Lu(o,n,t)},Lu=(e,t,r)=>{if(e!==void 0)throw new TypeError(`The \`${e.optionName}\` and \`${t}\` options must not target ${ye[r]} that is the same.`)}});var Hr,Fy,Ny,By,jy,Wy,zy,Vy,Gy,Hy,Yy,qy,Fo,Ky,Yr=u(()=>{se();yu();Lo();C();Su();Du();ku();Pu();_u();Hr=(e,t,r,n)=>{let i=Eu(t,r,n).map((a,c)=>Fy({stdioOption:a,fdNumber:c,options:t,isSync:n})),s=Hy({initialFileDescriptors:i,addProperties:e,options:t,isSync:n});return t.stdio=s.map(({stdioItems:a})=>Ky(a)),s},Fy=({stdioOption:e,fdNumber:t,options:r,isSync:n})=>{let o=Gt(t),{stdioItems:i,isStdioArray:s}=Ny({stdioOption:e,fdNumber:t,options:r,optionName:o}),a=bu(i,t,o),c=i.map(d=>Ou({stdioItem:d,isStdioArray:s,fdNumber:t,direction:a,isSync:n})),f=gu(c,o,a,r),l=hu(f,a);return Gy(f,l),{direction:a,objectMode:l,stdioItems:f}},Ny=({stdioOption:e,fdNumber:t,options:r,optionName:n})=>{let i=[...(Array.isArray(e)?e:[e]).map(c=>By(c,n)),...Ru(r,t)],s=Cu(i),a=s.length>1;return jy(s,a,n),zy(s),{stdioItems:s,isStdioArray:a}},By=(e,t)=>({type:iu(e,t),value:e,optionName:t}),jy=(e,t,r)=>{if(e.length===0)throw new TypeError(`The \`${r}\` option must not be an empty array.`);if(t){for(let{value:n,optionName:o}of e)if(Wy.has(n))throw new Error(`The \`${o}\` option must not include \`${n}\`.`)}},Wy=new Set(["ignore","ipc"]),zy=e=>{for(let t of e)Vy(t)},Vy=({type:e,value:t,optionName:r})=>{if(lu(t))throw new TypeError(`The \`${r}: URL\` option must use the \`file:\` scheme.
For example, you can use the \`pathToFileURL()\` method of the \`url\` core module.`);if(uu(e,t))throw new TypeError(`The \`${r}: { file: '...' }\` option must be used instead of \`${r}: '...'\`.`)},Gy=(e,t)=>{if(!t)return;let r=e.find(({type:n})=>Vr.has(n));if(r!==void 0)throw new TypeError(`The \`${r.optionName}\` option cannot use both files and transforms in objectMode.`)},Hy=({initialFileDescriptors:e,addProperties:t,options:r,isSync:n})=>{let o=[];try{for(let i of e)o.push(Yy({fileDescriptor:i,fileDescriptors:o,addProperties:t,options:r,isSync:n}));return o}catch(i){throw Fo(o),i}},Yy=({fileDescriptor:{direction:e,objectMode:t,stdioItems:r},fileDescriptors:n,addProperties:o,options:i,isSync:s})=>{let a=r.map(c=>qy({stdioItem:c,addProperties:o,direction:e,options:i,fileDescriptors:n,isSync:s}));return{direction:e,objectMode:t,stdioItems:a}},qy=({stdioItem:e,addProperties:t,direction:r,options:n,fileDescriptors:o,isSync:i})=>{let s=Mu({stdioItem:e,direction:r,fileDescriptors:o,isSync:i});return s!==void 0?{...e,stream:s}:{...e,...t[r][e.type](e,n)}},Fo=e=>{for(let{stdioItems:t}of e)for(let{stream:r}of t)r!==void 0&&!V(r)&&r.destroy()},Ky=e=>{if(e.length>1)return e.some(({value:n})=>n==="overlapped")?"overlapped":"pipe";let[{type:t,value:r}]=e;return t==="native"?r:"pipe"}});var No,Nu,ee,Jy,Bu,Fu,Zy,ju=u(()=>{No=require("node:fs");N();Yr();C();Nu=(e,t)=>Hr(Zy,e,t,!0),ee=({type:e,optionName:t})=>{Bu(t,ye[e])},Jy=({optionName:e,value:t})=>((t==="ipc"||t==="overlapped")&&Bu(e,`"${t}"`),{}),Bu=(e,t)=>{throw new TypeError(`The \`${e}\` option cannot be ${t} with synchronous methods.`)},Fu={generator(){},asyncGenerator:ee,webStream:ee,nodeStream:ee,webTransform:ee,duplex:ee,asyncIterable:ee,native:Jy},Zy={input:{...Fu,fileUrl:({value:e})=>({contents:[ie((0,No.readFileSync)(e))]}),filePath:({value:{file:e}})=>({contents:[ie((0,No.readFileSync)(e))]}),fileNumber:ee,iterable:({value:e})=>({contents:[...e]}),string:({value:e})=>({contents:[e]}),uint8Array:({value:e})=>({contents:[e]})},output:{...Fu,fileUrl:({value:e})=>({path:e}),filePath:({value:{file:e,append:t}})=>({path:e,append:t}),fileNumber:({value:e})=>({path:e}),iterable:ee,string:ee,uint8Array:ee}}});var ue,Bo,At=u(()=>{$o();ue=(e,{stripFinalNewline:t},r)=>Bo(t,r)&&e!==void 0&&!Array.isArray(e)?Xe(e):e,Bo=(e,t)=>t==="all"?e[1]||e[2]:e[t]});var qr,Wo,Wu,zu,Xy,Qy,eb,Vu,tb,jo,rb,nb,ob,Kr=u(()=>{qr=(e,t,r,n)=>e||r?void 0:zu(t,n),Wo=(e,t,r)=>r?e.flatMap(n=>Wu(n,t)):Wu(e,t),Wu=(e,t)=>{let{transform:r,final:n}=zu(t,{});return[...r(e),...n()]},zu=(e,t)=>(t.previousChunks="",{transform:Xy.bind(void 0,t,e),final:eb.bind(void 0,t)}),Xy=function*(e,t,r){if(typeof r!="string"){yield r;return}let{previousChunks:n}=e,o=-1;for(let i=0;i<r.length;i+=1)if(r[i]===`
`){let s=Qy(r,i,t,e),a=r.slice(o+1,i+1-s);n.length>0&&(a=jo(n,a),n=""),yield a,o=i}o!==r.length-1&&(n=jo(n,r.slice(o+1))),e.previousChunks=n},Qy=(e,t,r,n)=>r?0:(n.isWindowsNewline=t!==0&&e[t-1]==="\r",n.isWindowsNewline?2:1),eb=function*({previousChunks:e}){e.length>0&&(yield e)},Vu=({binary:e,preserveNewlines:t,readableObjectMode:r,state:n})=>e||t||r?void 0:{transform:tb.bind(void 0,n)},tb=function*({isWindowsNewline:e=!1},t){let{unixNewline:r,windowsNewline:n,LF:o,concatBytes:i}=typeof t=="string"?rb:ob;if(t.at(-1)===o){yield t;return}yield i(t,e?n:r)},jo=(e,t)=>`${e}${t}`,rb={windowsNewline:`\r
`,unixNewline:`
`,LF:`
`,concatBytes:jo},nb=(e,t)=>{let r=new Uint8Array(e.length+t.length);return r.set(e,0),r.set(t,e.length),r},ob={windowsNewline:new Uint8Array([13,10]),unixNewline:new Uint8Array([10]),LF:10,concatBytes:nb}});var Gu,Hu,ib,Yu,sb,ab,qu,Ku=u(()=>{Gu=require("node:buffer");N();Hu=(e,t)=>e?void 0:ib.bind(void 0,t),ib=function*(e,t){if(typeof t!="string"&&!k(t)&&!Gu.Buffer.isBuffer(t))throw new TypeError(`The \`${e}\` option's transform must use "objectMode: true" to receive as input: ${typeof t}.`);yield t},Yu=(e,t)=>e?sb.bind(void 0,t):ab.bind(void 0,t),sb=function*(e,t){qu(e,t),yield t},ab=function*(e,t){if(qu(e,t),typeof t!="string"&&!k(t))throw new TypeError(`The \`${e}\` option's function must yield a string or an Uint8Array, not ${typeof t}.`);yield t},qu=(e,t)=>{if(t==null)throw new TypeError(`The \`${e}\` option's function must not call \`yield ${t}\`.
Instead, \`yield\` should either be called with a value, or not be called at all. For example:
  if (condition) { yield value; }`)}});var Ju,Zu,Jr,cb,lb,ub,zo=u(()=>{Ju=require("node:buffer"),Zu=require("node:string_decoder");N();Jr=(e,t,r)=>{if(r)return;if(e)return{transform:cb.bind(void 0,new TextEncoder)};let n=new Zu.StringDecoder(t);return{transform:lb.bind(void 0,n),final:ub.bind(void 0,n)}},cb=function*(e,t){Ju.Buffer.isBuffer(t)?yield ie(t):typeof t=="string"?yield e.encode(t):yield t},lb=function*(e,t){yield k(t)?e.write(t):t},ub=function*(e){let t=e.end();t!==""&&(yield t)}});var Vo,Go,Zr,Xu,fb,Qu,db,ef=u(()=>{Vo=require("node:util"),Go=(0,Vo.callbackify)(async(e,t,r,n)=>{t.currentIterable=e(...r);try{for await(let o of t.currentIterable)n.push(o)}finally{delete t.currentIterable}}),Zr=async function*(e,t,r){if(r===t.length){yield e;return}let{transform:n=db}=t[r];for await(let o of n(e))yield*Zr(o,t,r+1)},Xu=async function*(e){for(let[t,{final:r}]of Object.entries(e))yield*fb(r,Number(t),e)},fb=async function*(e,t,r){if(e!==void 0)for await(let n of e())yield*Zr(n,r,t+1)},Qu=(0,Vo.callbackify)(async({currentIterable:e},t)=>{if(e!==void 0){await(t?e.throw(t):e.return());return}if(t)throw t}),db=function*(e){yield e}});var Ho,tf,Pe,Tt,pb,mb,Yo=u(()=>{Ho=(e,t,r,n)=>{try{for(let o of e(...t))r.push(o);n()}catch(o){n(o)}},tf=(e,t)=>[...t.flatMap(r=>[...Pe(r,e,0)]),...Tt(e)],Pe=function*(e,t,r){if(r===t.length){yield e;return}let{transform:n=mb}=t[r];for(let o of n(e))yield*Pe(o,t,r+1)},Tt=function*(e){for(let[t,{final:r}]of Object.entries(e))yield*pb(r,Number(t),e)},pb=function*(e,t,r){if(e!==void 0)for(let n of e())yield*Pe(n,r,t+1)},mb=function*(e){yield e}});var It,qo,Xr,rf,Qr=u(()=>{It=require("node:stream");C();Kr();Ku();zo();ef();Yo();qo=({value:e,value:{transform:t,final:r,writableObjectMode:n,readableObjectMode:o},optionName:i},{encoding:s})=>{let a={},c=rf(e,s,i),f=Re(t),l=Re(r),d=f?Go.bind(void 0,Zr,a):Ho.bind(void 0,Pe),p=f||l?Go.bind(void 0,Xu,a):Ho.bind(void 0,Tt),m=f||l?Qu.bind(void 0,a):void 0;return{stream:new It.Transform({writableObjectMode:n,writableHighWaterMark:(0,It.getDefaultHighWaterMark)(n),readableObjectMode:o,readableHighWaterMark:(0,It.getDefaultHighWaterMark)(o),transform(b,D,x){d([b,c,0],this,x)},flush(b){p([c],this,b)},destroy:m})}},Xr=(e,t,r,n)=>{let o=t.filter(({type:s})=>s==="generator"),i=n?o.reverse():o;for(let{value:s,optionName:a}of i){let c=rf(s,r,a);e=tf(c,e)}return e},rf=({transform:e,final:t,binary:r,writableObjectMode:n,readableObjectMode:o,preserveNewlines:i},s,a)=>{let c={};return[{transform:Hu(n,a)},Jr(r,s,n),qr(r,i,n,c),{transform:e,final:t},{transform:Yu(o,a)},Vu({binary:r,preserveNewlines:i,readableObjectMode:o,state:c})].filter(Boolean)}});var nf,hb,gb,yb,bb,of=u(()=>{Qr();N();C();nf=(e,t)=>{for(let r of hb(e))gb(e,r,t)},hb=e=>new Set(Object.entries(e).filter(([,{direction:t}])=>t==="input").map(([t])=>Number(t))),gb=(e,t,r)=>{let{stdioItems:n}=e[t],o=n.filter(({contents:a})=>a!==void 0);if(o.length===0)return;if(t!==0){let[{type:a,optionName:c}]=o;throw new TypeError(`Only the \`stdin\` option, not \`${c}\`, can be ${ye[a]} with synchronous methods.`)}let s=o.map(({contents:a})=>a).map(a=>yb(a,n));r.input=ft(s)},yb=(e,t)=>{let r=Xr(e,t,"utf8",!0);return bb(r),ft(r)},bb=e=>{let t=e.find(r=>typeof r!="string"&&!k(r));if(t!==void 0)throw new TypeError(`The \`stdin\` option is invalid: when passing objects as input, a transform must be used to serialize them to strings or Uint8Arrays: ${t}.`)}});var en,wb,Sb,sf,af,xb,cf,Ko=u(()=>{Te();C();ze();de();en=({stdioItems:e,encoding:t,verboseInfo:r,fdNumber:n})=>n!=="all"&&We(r,n)&&!B.has(t)&&wb(n)&&(e.some(({type:o,value:i})=>o==="native"&&Sb.has(i))||e.every(({type:o})=>z.has(o))),wb=e=>e===1||e===2,Sb=new Set(["pipe","overlapped"]),sf=async(e,t,r,n)=>{for await(let o of e)xb(t)||cf(o,r,n)},af=(e,t,r)=>{for(let n of e)cf(n,t,r)},xb=e=>e._readableState.pipes.length>0,cf=(e,t,r)=>{let n=Xt(e);J({type:"output",verboseMessage:n,fdNumber:t,verboseInfo:r})}});var tn,lf,$b,Eb,vb,Db,Ab,uf=u(()=>{tn=require("node:fs");Ko();Qr();Kr();N();C();ke();lf=({fileDescriptors:e,syncResult:{output:t},options:r,isMaxBuffer:n,verboseInfo:o})=>{if(t===null)return{output:Array.from({length:3})};let i={},s=new Set([]);return{output:t.map((c,f)=>$b({result:c,fileDescriptors:e,fdNumber:f,state:i,outputFiles:s,isMaxBuffer:n,verboseInfo:o},r)),...i}},$b=({result:e,fileDescriptors:t,fdNumber:r,state:n,outputFiles:o,isMaxBuffer:i,verboseInfo:s},{buffer:a,encoding:c,lines:f,stripFinalNewline:l,maxBuffer:d})=>{if(e===null)return;let p=Vl(e,i,d),m=ie(p),{stdioItems:g,objectMode:b}=t[r],D=Eb([m],g,c,n),{serializedResult:x,finalResult:h=x}=vb({chunks:D,objectMode:b,encoding:c,lines:f,stripFinalNewline:l,fdNumber:r});Db({serializedResult:x,fdNumber:r,state:n,verboseInfo:s,encoding:c,stdioItems:g,objectMode:b});let S=a[r]?h:void 0;try{return n.error===void 0&&Ab(x,g,o),S}catch(A){return n.error=A,S}},Eb=(e,t,r,n)=>{try{return Xr(e,t,r,!1)}catch(o){return n.error=o,e}},vb=({chunks:e,objectMode:t,encoding:r,lines:n,stripFinalNewline:o,fdNumber:i})=>{if(t)return{serializedResult:e};if(r==="buffer")return{serializedResult:ft(e)};let s=ds(e,r);return n[i]?{serializedResult:s,finalResult:Wo(s,!o[i],t)}:{serializedResult:s}},Db=({serializedResult:e,fdNumber:t,state:r,verboseInfo:n,encoding:o,stdioItems:i,objectMode:s})=>{if(!en({stdioItems:i,encoding:o,verboseInfo:n,fdNumber:t}))return;let a=Wo(e,!1,s);try{af(a,t,n)}catch(c){r.error??=c}},Ab=(e,t,r)=>{for(let{path:n,append:o}of t.filter(({type:i})=>Vr.has(i))){let i=typeof n=="string"?n:n.toString();o||r.has(i)?(0,tn.appendFileSync)(n,e):(r.add(i),(0,tn.writeFileSync)(n,e))}}});var ff,df=u(()=>{N();At();ff=([,e,t],r)=>{if(r.all)return e===void 0?t:t===void 0?e:Array.isArray(e)?Array.isArray(t)?[...e,...t]:[...e,ue(t,r,"all")]:Array.isArray(t)?[ue(e,r,"all"),...t]:k(e)&&k(t)?Rn([e,t]):`${e}${t}`}});var rn,pf,Tb,mf,hf,Ib,Jo,Zo=u(()=>{rn=require("node:events");De();pf=async(e,t)=>{let[r,n]=await Tb(e);return t.isForcefullyTerminated??=!1,[r,n]},Tb=async e=>{let[t,r]=await Promise.allSettled([(0,rn.once)(e,"spawn"),(0,rn.once)(e,"exit")]);return t.status==="rejected"?[]:r.status==="rejected"?mf(e):r.value},mf=async e=>{try{return await(0,rn.once)(e,"exit")}catch{return mf(e)}},hf=async e=>{let[t,r]=await e;if(!Ib(t,r)&&Jo(t,r))throw new G;return[t,r]},Ib=(e,t)=>e===void 0&&t===void 0,Jo=(e,t)=>e!==0||t!==null});var gf,Ob,yf=u(()=>{De();ke();Zo();gf=({error:e,status:t,signal:r,output:n},{maxBuffer:o})=>{let i=Ob(e,t,r),s=i?.code==="ETIMEDOUT",a=zl(i,n,o);return{resultError:i,exitCode:t,signal:r,timedOut:s,isMaxBuffer:a}},Ob=(e,t,r)=>e!==void 0?e:Jo(t,r)?new G:void 0});var bf,wf,kb,Rb,Pb,nn,Cb,Mb,Ub,Lb,Sf=u(()=>{bf=require("node:child_process");jn();So();xo();Dt();jr();ju();At();of();uf();ke();df();yf();wf=(e,t,r)=>{let{file:n,commandArguments:o,command:i,escapedCommand:s,startTime:a,verboseInfo:c,options:f,fileDescriptors:l}=kb(e,t,r),d=Cb({file:n,commandArguments:o,options:f,command:i,escapedCommand:s,verboseInfo:c,fileDescriptors:l,startTime:a});return tt(d,c,f)},kb=(e,t,r)=>{let{command:n,escapedCommand:o,startTime:i,verboseInfo:s}=tr(e,t,r),a=Rb(r),{file:c,commandArguments:f,options:l}=Ir(e,t,a);Pb(l);let d=Nu(l,s);return{file:c,commandArguments:f,command:n,escapedCommand:o,startTime:i,verboseInfo:s,options:l,fileDescriptors:d}},Rb=e=>e.node&&!e.ipc?{...e,ipc:!1}:e,Pb=({ipc:e,ipcInput:t,detached:r,cancelSignal:n})=>{t&&nn("ipcInput"),e&&nn("ipc: true"),r&&nn("detached: true"),n&&nn("cancelSignal")},nn=e=>{throw new TypeError(`The "${e}" option cannot be used with synchronous methods.`)},Cb=({file:e,commandArguments:t,options:r,command:n,escapedCommand:o,verboseInfo:i,fileDescriptors:s,startTime:a})=>{let c=Mb({file:e,commandArguments:t,options:r,command:n,escapedCommand:o,fileDescriptors:s,startTime:a});if(c.failed)return c;let{resultError:f,exitCode:l,signal:d,timedOut:p,isMaxBuffer:m}=gf(c,r),{output:g,error:b=f}=lf({fileDescriptors:s,syncResult:c,options:r,isMaxBuffer:m,verboseInfo:i}),D=g.map((h,S)=>ue(h,r,S)),x=ue(ff(g,r),r,"all");return Lb({error:b,exitCode:l,signal:d,timedOut:p,isMaxBuffer:m,stdio:D,all:x,options:r,command:n,escapedCommand:o,startTime:a})},Mb=({file:e,commandArguments:t,options:r,command:n,escapedCommand:o,fileDescriptors:i,startTime:s})=>{try{nf(i,r);let a=Ub(r);return(0,bf.spawnSync)(...Or(e,t,a))}catch(a){return et({error:a,command:n,escapedCommand:o,fileDescriptors:i,options:r,startTime:s,isSync:!0})}},Ub=({encoding:e,maxBuffer:t,...r})=>({...r,encoding:"buffer",maxBuffer:Nr(t)}),Lb=({error:e,exitCode:t,signal:r,timedOut:n,isMaxBuffer:o,stdio:i,all:s,options:a,command:c,escapedCommand:f,startTime:l})=>e===void 0?Br({command:c,escapedCommand:f,stdio:i,all:s,ipcOutput:[],options:a,startTime:l}):vt({error:e,command:c,escapedCommand:f,timedOut:n,isCanceled:!1,isGracefullyCanceled:!1,isMaxBuffer:o,isForcefullyTerminated:!1,exitCode:t,signal:r,stdio:i,all:s,ipcOutput:[],options:a,startTime:l,isSync:!0})});var nt,xf,_b,Fb,Nb,Bb,$f=u(()=>{nt=require("node:events");Ke();wt();bt();xf=({anyProcess:e,channel:t,isSubprocess:r,ipc:n},{reference:o=!0,filter:i}={})=>(Ye({methodName:"getOneMessage",isSubprocess:r,ipc:n,isConnected:Sr(e)}),_b({anyProcess:e,channel:t,isSubprocess:r,filter:i,reference:o})),_b=async({anyProcess:e,channel:t,isSubprocess:r,filter:n,reference:o})=>{pr(t,o);let i=ge(e,t,r),s=new AbortController;try{return await Promise.race([Fb(i,n,s),Nb(i,r,s),Bb(i,r,s)])}catch(a){throw qe(e),a}finally{s.abort(),mr(t,o)}},Fb=async(e,t,{signal:r})=>{if(t===void 0){let[n]=await(0,nt.once)(e,"message",{signal:r});return n}for await(let[n]of(0,nt.on)(e,"message",{signal:r}))if(t(n))return n},Nb=async(e,t,{signal:r})=>{await(0,nt.once)(e,"disconnect",{signal:r}),hc(t)},Bb=async(e,t,{signal:r})=>{let[n]=await(0,nt.once)(e,"strict:error",{signal:r});throw lr(n,t)}});var Ot,vf,Xo,jb,Wb,zb,Ef,Qo=u(()=>{Ot=require("node:events");Ke();wt();bt();vf=({anyProcess:e,channel:t,isSubprocess:r,ipc:n},{reference:o=!0}={})=>Xo({anyProcess:e,channel:t,isSubprocess:r,ipc:n,shouldAwait:!r,reference:o}),Xo=({anyProcess:e,channel:t,isSubprocess:r,ipc:n,shouldAwait:o,reference:i})=>{Ye({methodName:"getEachMessage",isSubprocess:r,ipc:n,isConnected:Sr(e)}),pr(t,i);let s=ge(e,t,r),a=new AbortController,c={};return jb(e,s,a),Wb({ipcEmitter:s,isSubprocess:r,controller:a,state:c}),zb({anyProcess:e,channel:t,ipcEmitter:s,isSubprocess:r,shouldAwait:o,controller:a,state:c,reference:i})},jb=async(e,t,r)=>{try{await(0,Ot.once)(t,"disconnect",{signal:r.signal}),r.abort()}catch{}},Wb=async({ipcEmitter:e,isSubprocess:t,controller:r,state:n})=>{try{let[o]=await(0,Ot.once)(e,"strict:error",{signal:r.signal});n.error=lr(o,t),r.abort()}catch{}},zb=async function*({anyProcess:e,channel:t,ipcEmitter:r,isSubprocess:n,shouldAwait:o,controller:i,state:s,reference:a}){try{for await(let[c]of(0,Ot.on)(r,"message",{signal:i.signal}))Ef(s),yield c}catch{Ef(s)}finally{i.abort(),mr(t,a),n||qe(e),o&&await e}},Ef=({error:e})=>{if(e)throw e}});var ei,Df,Af,Tf,ti=u(()=>{ei=O(require("node:process"),1);Dr();$f();Qo();br();Df=(e,{ipc:t})=>{Object.assign(e,Tf(e,!1,t))},Af=()=>{let e=ei.default,t=!0,r=ei.default.channel!==void 0;return{...Tf(e,t,r),getCancelSignal:Jc.bind(void 0,{anyProcess:e,channel:e.channel,isSubprocess:t,ipc:r})}},Tf=(e,t,r)=>({sendMessage:vr.bind(void 0,{anyProcess:e,channel:e.channel,isSubprocess:t,ipc:r}),getOneMessage:xf.bind(void 0,{anyProcess:e,channel:e.channel,isSubprocess:t,ipc:r}),getEachMessage:vf.bind(void 0,{anyProcess:e,channel:e.channel,isSubprocess:t,ipc:r})})});var If,be,Of,Vb,kt,Gb,Hb,Yb,qb,kf=u(()=>{If=require("node:child_process"),be=require("node:stream");Yr();Dt();jr();Of=({error:e,command:t,escapedCommand:r,fileDescriptors:n,options:o,startTime:i,verboseInfo:s})=>{Fo(n);let a=new If.ChildProcess;Vb(a,n),Object.assign(a,{readable:Gb,writable:Hb,duplex:Yb});let c=et({error:e,command:t,escapedCommand:r,fileDescriptors:n,options:o,startTime:i,isSync:!1}),f=qb(c,s,o);return{subprocess:a,promise:f}},Vb=(e,t)=>{let r=kt(),n=kt(),o=kt(),i=Array.from({length:t.length-3},kt),s=kt(),a=[r,n,o,...i];Object.assign(e,{stdin:r,stdout:n,stderr:o,all:s,stdio:a})},kt=()=>{let e=new be.PassThrough;return e.end(),e},Gb=()=>new be.Readable({read(){}}),Hb=()=>new be.Writable({write(){}}),Yb=()=>new be.Duplex({read(){},write(){}}),qb=async(e,t,r)=>tt(e,t,r)});var ot,Pf,te,Cf,Rt,Rf,Kb,Mf=u(()=>{ot=require("node:fs"),Pf=require("node:buffer"),te=require("node:stream");Qr();Yr();C();Cf=(e,t)=>Hr(Kb,e,t,!1),Rt=({type:e,optionName:t})=>{throw new TypeError(`The \`${t}\` option cannot be ${ye[e]}.`)},Rf={fileNumber:Rt,generator:qo,asyncGenerator:qo,nodeStream:({value:e})=>({stream:e}),webTransform({value:{transform:e,writableObjectMode:t,readableObjectMode:r}}){let n=t||r;return{stream:te.Duplex.fromWeb(e,{objectMode:n})}},duplex:({value:{transform:e}})=>({stream:e}),native(){}},Kb={input:{...Rf,fileUrl:({value:e})=>({stream:(0,ot.createReadStream)(e)}),filePath:({value:{file:e}})=>({stream:(0,ot.createReadStream)(e)}),webStream:({value:e})=>({stream:te.Readable.fromWeb(e)}),iterable:({value:e})=>({stream:te.Readable.from(e)}),asyncIterable:({value:e})=>({stream:te.Readable.from(e)}),string:({value:e})=>({stream:te.Readable.from(e)}),uint8Array:({value:e})=>({stream:te.Readable.from(Pf.Buffer.from(e))})},output:{...Rf,fileUrl:({value:e})=>({stream:(0,ot.createWriteStream)(e)}),filePath:({value:{file:e,append:t}})=>({stream:(0,ot.createWriteStream)(e,t?{flags:"a"}:{})}),webStream:({value:e})=>({stream:te.Writable.fromWeb(e)}),iterable:Rt,asyncIterable:Rt,string:Rt,uint8Array:Rt}}});function Ce(e){if(!Array.isArray(e))throw new TypeError(`Expected an array, got \`${typeof e}\`.`);for(let o of e)ni(o);let t=e.some(({readableObjectMode:o})=>o),r=Jb(e,t),n=new ri({objectMode:t,writableHighWaterMark:r,readableHighWaterMark:r});for(let o of e)n.add(o);return n}var Pt,sn,oi,Jb,ri,Zb,Xb,Qb,ni,ew,tw,rw,nw,ow,_f,Ff,ii,Nf,iw,on,Uf,Lf,an=u(()=>{Pt=require("node:events"),sn=require("node:stream"),oi=require("node:stream/promises");Jb=(e,t)=>{if(e.length===0)return(0,sn.getDefaultHighWaterMark)(t);let r=e.filter(({readableObjectMode:n})=>n===t).map(({readableHighWaterMark:n})=>n);return Math.max(...r)},ri=class extends sn.PassThrough{#t=new Set([]);#r=new Set([]);#e=new Set([]);#n;#i=Symbol("unpipe");#o=new WeakMap;add(t){if(ni(t),this.#t.has(t))return;this.#t.add(t),this.#n??=Zb(this,this.#t,this.#i);let r=ew({passThroughStream:this,stream:t,streams:this.#t,ended:this.#r,aborted:this.#e,onFinished:this.#n,unpipeEvent:this.#i});this.#o.set(t,r),t.pipe(this,{end:!1})}async remove(t){if(ni(t),!this.#t.has(t))return!1;let r=this.#o.get(t);return r===void 0?!1:(this.#o.delete(t),t.unpipe(this),await r,!0)}},Zb=async(e,t,r)=>{on(e,Uf);let n=new AbortController;try{await Promise.race([Xb(e,n),Qb(e,t,r,n)])}finally{n.abort(),on(e,-Uf)}},Xb=async(e,{signal:t})=>{try{await(0,oi.finished)(e,{signal:t,cleanup:!0})}catch(r){throw _f(e,r),r}},Qb=async(e,t,r,{signal:n})=>{for await(let[o]of(0,Pt.on)(e,"unpipe",{signal:n}))t.has(o)&&o.emit(r)},ni=e=>{if(typeof e?.pipe!="function")throw new TypeError(`Expected a readable stream, got: \`${typeof e}\`.`)},ew=async({passThroughStream:e,stream:t,streams:r,ended:n,aborted:o,onFinished:i,unpipeEvent:s})=>{on(e,Lf);let a=new AbortController;try{await Promise.race([tw(i,t,a),rw({passThroughStream:e,stream:t,streams:r,ended:n,aborted:o,controller:a}),nw({stream:t,streams:r,ended:n,aborted:o,unpipeEvent:s,controller:a})])}finally{a.abort(),on(e,-Lf)}r.size>0&&r.size===n.size+o.size&&(n.size===0&&o.size>0?ii(e):ow(e))},tw=async(e,t,{signal:r})=>{try{await e,r.aborted||ii(t)}catch(n){r.aborted||_f(t,n)}},rw=async({passThroughStream:e,stream:t,streams:r,ended:n,aborted:o,controller:{signal:i}})=>{try{await(0,oi.finished)(t,{signal:i,cleanup:!0,readable:!0,writable:!1}),r.has(t)&&n.add(t)}catch(s){if(i.aborted||!r.has(t))return;Ff(s)?o.add(t):Nf(e,s)}},nw=async({stream:e,streams:t,ended:r,aborted:n,unpipeEvent:o,controller:{signal:i}})=>{if(await(0,Pt.once)(e,o,{signal:i}),!e.readable)return(0,Pt.once)(i,"abort",{signal:i});t.delete(e),r.delete(e),n.delete(e)},ow=e=>{e.writable&&e.end()},_f=(e,t)=>{Ff(t)?ii(e):Nf(e,t)},Ff=e=>e?.code==="ERR_STREAM_PREMATURE_CLOSE",ii=e=>{(e.readable||e.writable)&&e.destroy()},Nf=(e,t)=>{e.destroyed||(e.once("error",iw),e.destroy(t))},iw=()=>{},on=(e,t)=>{let r=e.getMaxListeners();r!==0&&r!==Number.POSITIVE_INFINITY&&e.setMaxListeners(r+t)},Uf=2,Lf=1});var si,it,sw,ai,aw,ci,cn=u(()=>{si=require("node:stream/promises");se();it=(e,t)=>{e.pipe(t),sw(e,t),aw(e,t)},sw=async(e,t)=>{if(!(V(e)||V(t))){try{await(0,si.finished)(e,{cleanup:!0,readable:!0,writable:!1})}catch{}ai(t)}},ai=e=>{e.writable&&e.end()},aw=async(e,t)=>{if(!(V(e)||V(t))){try{await(0,si.finished)(t,{cleanup:!0,readable:!1,writable:!0})}catch{}ci(e)}},ci=e=>{e.readable&&e.destroy()}});var Bf,cw,lw,uw,fw,dw,jf=u(()=>{an();se();dr();C();cn();Bf=(e,t,r)=>{let n=new Map;for(let[o,{stdioItems:i,direction:s}]of Object.entries(t)){for(let{stream:a}of i.filter(({type:c})=>z.has(c)))cw(e,a,s,o);for(let{stream:a}of i.filter(({type:c})=>!z.has(c)))uw({subprocess:e,stream:a,direction:s,fdNumber:o,pipeGroups:n,controller:r})}for(let[o,i]of n.entries()){let s=i.length===1?i[0]:Ce(i);it(s,o)}},cw=(e,t,r,n)=>{r==="output"?it(e.stdio[n],t):it(t,e.stdio[n]);let o=lw[n];o!==void 0&&(e[o]=t),e.stdio[n]=t},lw=["stdin","stdout","stderr"],uw=({subprocess:e,stream:t,direction:r,fdNumber:n,pipeGroups:o,controller:i})=>{if(t===void 0)return;fw(t,i);let[s,a]=r==="output"?[t,e.stdio[n]]:[e.stdio[n],t],c=o.get(s)??[];o.set(s,[...c,a])},fw=(e,{signal:t})=>{V(e)&&Ae(e,dw,t)},dw=2});var Me,Wf=u(()=>{Me=[];Me.push("SIGHUP","SIGINT","SIGTERM");process.platform!=="win32"&&Me.push("SIGALRM","SIGABRT","SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&Me.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT")});var ln,li,ui,pw,fi,un,mw,di,pi,mi,zf,Ov,kv,Vf=u(()=>{Wf();ln=e=>!!e&&typeof e=="object"&&typeof e.removeListener=="function"&&typeof e.emit=="function"&&typeof e.reallyExit=="function"&&typeof e.listeners=="function"&&typeof e.kill=="function"&&typeof e.pid=="number"&&typeof e.on=="function",li=Symbol.for("signal-exit emitter"),ui=globalThis,pw=Object.defineProperty.bind(Object),fi=class{emitted={afterExit:!1,exit:!1};listeners={afterExit:[],exit:[]};count=0;id=Math.random();constructor(){if(ui[li])return ui[li];pw(ui,li,{value:this,writable:!1,enumerable:!1,configurable:!1})}on(t,r){this.listeners[t].push(r)}removeListener(t,r){let n=this.listeners[t],o=n.indexOf(r);o!==-1&&(o===0&&n.length===1?n.length=0:n.splice(o,1))}emit(t,r,n){if(this.emitted[t])return!1;this.emitted[t]=!0;let o=!1;for(let i of this.listeners[t])o=i(r,n)===!0||o;return t==="exit"&&(o=this.emit("afterExit",r,n)||o),o}},un=class{},mw=e=>({onExit(t,r){return e.onExit(t,r)},load(){return e.load()},unload(){return e.unload()}}),di=class extends un{onExit(){return()=>{}}load(){}unload(){}},pi=class extends un{#t=mi.platform==="win32"?"SIGINT":"SIGHUP";#r=new fi;#e;#n;#i;#o={};#s=!1;constructor(t){super(),this.#e=t,this.#o={};for(let r of Me)this.#o[r]=()=>{let n=this.#e.listeners(r),{count:o}=this.#r,i=t;if(typeof i.__signal_exit_emitter__=="object"&&typeof i.__signal_exit_emitter__.count=="number"&&(o+=i.__signal_exit_emitter__.count),n.length===o){this.unload();let s=this.#r.emit("exit",null,r),a=r==="SIGHUP"?this.#t:r;s||t.kill(t.pid,a)}};this.#i=t.reallyExit,this.#n=t.emit}onExit(t,r){if(!ln(this.#e))return()=>{};this.#s===!1&&this.load();let n=r?.alwaysLast?"afterExit":"exit";return this.#r.on(n,t),()=>{this.#r.removeListener(n,t),this.#r.listeners.exit.length===0&&this.#r.listeners.afterExit.length===0&&this.unload()}}load(){if(!this.#s){this.#s=!0,this.#r.count+=1;for(let t of Me)try{let r=this.#o[t];r&&this.#e.on(t,r)}catch{}this.#e.emit=(t,...r)=>this.#c(t,...r),this.#e.reallyExit=t=>this.#a(t)}}unload(){this.#s&&(this.#s=!1,Me.forEach(t=>{let r=this.#o[t];if(!r)throw new Error("Listener not defined for signal: "+t);try{this.#e.removeListener(t,r)}catch{}}),this.#e.emit=this.#n,this.#e.reallyExit=this.#i,this.#r.count-=1)}#a(t){return ln(this.#e)?(this.#e.exitCode=t||0,this.#r.emit("exit",this.#e.exitCode,null),this.#i.call(this.#e,this.#e.exitCode)):0}#c(t,...r){let n=this.#n;if(t==="exit"&&ln(this.#e)){typeof r[0]=="number"&&(this.#e.exitCode=r[0]);let o=n.call(this.#e,t,...r);return this.#r.emit("exit",this.#e.exitCode,null),o}else return n.call(this.#e,t,...r)}},mi=globalThis.process,{onExit:zf,load:Ov,unload:kv}=mw(ln(mi)?new pi(mi):new di)});var Gf,Hf,Yf=u(()=>{Gf=require("node:events");Vf();Hf=(e,{cleanup:t,detached:r},{signal:n})=>{if(!t||r)return;let o=zf(()=>{e.kill()});(0,Gf.addAbortListener)(n,()=>{o()})}});var Kf,hw,gw,qf,yw,Jf=u(()=>{kn();er();he();Be();Kf=({source:e,sourcePromise:t,boundOptions:r,createNested:n},...o)=>{let i=Qt(),{destination:s,destinationStream:a,destinationError:c,from:f,unpipeSignal:l}=hw(r,n,o),{sourceStream:d,sourceError:p}=yw(e,f),{options:m,fileDescriptors:g}=X.get(e);return{sourcePromise:t,sourceStream:d,sourceOptions:m,sourceError:p,destination:s,destinationStream:a,destinationError:c,unpipeSignal:l,fileDescriptors:g,startTime:i}},hw=(e,t,r)=>{try{let{destination:n,pipeOptions:{from:o,to:i,unpipeSignal:s}={}}=gw(e,t,...r),a=fr(n,i);return{destination:n,destinationStream:a,from:o,unpipeSignal:s}}catch(n){return{destinationError:n}}},gw=(e,t,r,...n)=>{if(Array.isArray(r))return{destination:t(qf,e)(r,...n),pipeOptions:e};if(typeof r=="string"||r instanceof URL||In(r)){if(Object.keys(e).length>0)throw new TypeError('Please use .pipe("file", ..., options) or .pipe(execa("file", ..., options)) instead of .pipe(options)("file", ...).');let[o,i,s]=jt(r,...n);return{destination:t(qf)(o,i,s),pipeOptions:s}}if(X.has(r)){if(Object.keys(e).length>0)throw new TypeError("Please use .pipe(options)`command` or .pipe($(options)`command`) instead of .pipe(options)($`command`).");return{destination:r,pipeOptions:n[0]}}throw new TypeError(`The first argument must be a template string, an options object, or an Execa subprocess: ${r}`)},qf=({options:e})=>({options:{...e,stdin:"pipe",piped:!0}}),yw=(e,t)=>{try{return{sourceStream:Ze(e,t)}}catch(r){return{sourceError:r}}}});var Xf,bw,hi,Zf,gi=u(()=>{Dt();cn();Xf=({sourceStream:e,sourceError:t,destinationStream:r,destinationError:n,fileDescriptors:o,sourceOptions:i,startTime:s})=>{let a=bw({sourceStream:e,sourceError:t,destinationStream:r,destinationError:n});if(a!==void 0)throw hi({error:a,fileDescriptors:o,sourceOptions:i,startTime:s})},bw=({sourceStream:e,sourceError:t,destinationStream:r,destinationError:n})=>{if(t!==void 0&&n!==void 0)return n;if(n!==void 0)return ci(e),n;if(t!==void 0)return ai(r),t},hi=({error:e,fileDescriptors:t,sourceOptions:r,startTime:n})=>et({error:e,command:Zf,escapedCommand:Zf,fileDescriptors:t,options:r,startTime:n,isSync:!1}),Zf="source.pipe(destination)"});var Qf,ed=u(()=>{Qf=async e=>{let[{status:t,reason:r,value:n=r},{status:o,reason:i,value:s=i}]=await e;if(s.pipedFrom.includes(n)||s.pipedFrom.push(n),o==="rejected")throw s;if(t==="rejected")throw n;return s}});var td,rd,ww,Sw,xw,fn,$w,Ew,nd=u(()=>{td=require("node:stream/promises");an();dr();cn();rd=(e,t,r)=>{let n=fn.has(t)?Sw(e,t):ww(e,t);return Ae(e,$w,r.signal),Ae(t,Ew,r.signal),xw(t),n},ww=(e,t)=>{let r=Ce([e]);return it(r,t),fn.set(t,r),r},Sw=(e,t)=>{let r=fn.get(t);return r.add(e),r},xw=async e=>{try{await(0,td.finished)(e,{cleanup:!0,readable:!1,writable:!0})}catch{}fn.delete(e)},fn=new WeakMap,$w=2,Ew=1});var od,id,vw,sd=u(()=>{od=require("node:util");gi();id=(e,t)=>e===void 0?[]:[vw(e,t)],vw=async(e,{sourceStream:t,mergedStream:r,fileDescriptors:n,sourceOptions:o,startTime:i})=>{await(0,od.aborted)(e,t),await r.remove(t);let s=new Error("Pipe canceled by `unpipeSignal` option.");throw hi({error:s,fileDescriptors:n,sourceOptions:o,startTime:i})}});var dn,Dw,Aw,ad=u(()=>{oe();Jf();gi();ed();nd();sd();dn=(e,...t)=>{if(I(t[0]))return dn.bind(void 0,{...e,boundOptions:{...e.boundOptions,...t[0]}});let{destination:r,...n}=Kf(e,...t),o=Dw({...n,destination:r});return o.pipe=dn.bind(void 0,{...e,source:r,sourcePromise:o,boundOptions:{}}),o},Dw=async({sourcePromise:e,sourceStream:t,sourceOptions:r,sourceError:n,destination:o,destinationStream:i,destinationError:s,unpipeSignal:a,fileDescriptors:c,startTime:f})=>{let l=Aw(e,o);Xf({sourceStream:t,sourceError:n,destinationStream:i,destinationError:s,fileDescriptors:c,sourceOptions:r,startTime:f});let d=new AbortController;try{let p=rd(t,i,d);return await Promise.race([Qf(l),...id(a,{sourceStream:t,mergedStream:p,sourceOptions:r,fileDescriptors:c,startTime:f})])}finally{d.abort()}},Aw=(e,t)=>Promise.allSettled([e,t])});var ld,ud,pn,Tw,yi,Iw,fd,bi,cd,Ow,kw,mn=u(()=>{ld=require("node:events"),ud=require("node:stream");zo();Kr();Yo();pn=({subprocessStdout:e,subprocess:t,binary:r,shouldEncode:n,encoding:o,preserveNewlines:i})=>{let s=new AbortController;return Tw(t,s),fd({stream:e,controller:s,binary:r,shouldEncode:!e.readableObjectMode&&n,encoding:o,shouldSplit:!e.readableObjectMode,preserveNewlines:i})},Tw=async(e,t)=>{try{await e}catch{}finally{t.abort()}},yi=({stream:e,onStreamEnd:t,lines:r,encoding:n,stripFinalNewline:o,allMixed:i})=>{let s=new AbortController;Iw(t,s,e);let a=e.readableObjectMode&&!i;return fd({stream:e,controller:s,binary:n==="buffer",shouldEncode:!a,encoding:n,shouldSplit:!a&&r,preserveNewlines:!o})},Iw=async(e,t,r)=>{try{await e}catch{r.destroy()}finally{t.abort()}},fd=({stream:e,controller:t,binary:r,shouldEncode:n,encoding:o,shouldSplit:i,preserveNewlines:s})=>{let a=(0,ld.on)(e,"data",{signal:t.signal,highWaterMark:cd,highWatermark:cd});return Ow({onStdoutChunk:a,controller:t,binary:r,shouldEncode:n,encoding:o,shouldSplit:i,preserveNewlines:s})},bi=(0,ud.getDefaultHighWaterMark)(!0),cd=bi,Ow=async function*({onStdoutChunk:e,controller:t,binary:r,shouldEncode:n,encoding:o,shouldSplit:i,preserveNewlines:s}){let a=kw({binary:r,shouldEncode:n,encoding:o,shouldSplit:i,preserveNewlines:s});try{for await(let[c]of e)yield*Pe(c,a,0)}catch(c){if(!t.signal.aborted)throw c}finally{yield*Tt(a)}},kw=({binary:e,shouldEncode:t,encoding:r,shouldSplit:n,preserveNewlines:o})=>[Jr(e,r,!t),qr(e,o,!n,{})].filter(Boolean)});var dd,pd,Rw,Pw,Cw,wi,md,Si=u(()=>{dd=require("node:timers/promises");Fr();N();Ko();mn();ke();At();pd=async({stream:e,onStreamEnd:t,fdNumber:r,encoding:n,buffer:o,maxBuffer:i,lines:s,allMixed:a,stripFinalNewline:c,verboseInfo:f,streamInfo:l})=>{let d=Rw({stream:e,onStreamEnd:t,fdNumber:r,encoding:n,allMixed:a,verboseInfo:f,streamInfo:l});if(!o){await Promise.all([Pw(e),d]);return}let p=Bo(c,r),m=yi({stream:e,onStreamEnd:t,lines:s,encoding:n,stripFinalNewline:p,allMixed:a}),[g]=await Promise.all([Cw({stream:e,iterable:m,fdNumber:r,encoding:n,maxBuffer:i,lines:s}),d]);return g},Rw=async({stream:e,onStreamEnd:t,fdNumber:r,encoding:n,allMixed:o,verboseInfo:i,streamInfo:{fileDescriptors:s}})=>{if(!en({stdioItems:s[r]?.stdioItems,encoding:n,verboseInfo:i,fdNumber:r}))return;let a=yi({stream:e,onStreamEnd:t,lines:!0,encoding:n,stripFinalNewline:!0,allMixed:o});await sf(a,e,r,i)},Pw=async e=>{await(0,dd.setImmediate)(),e.readableFlowing===null&&e.resume()},Cw=async({stream:e,stream:{readableObjectMode:t},iterable:r,fdNumber:n,encoding:o,maxBuffer:i,lines:s})=>{try{return t||s?await Mr(r,{maxBuffer:i}):o==="buffer"?new Uint8Array(await Ur(r,{maxBuffer:i})):await _r(r,{maxBuffer:i})}catch(a){return md(Bl({error:a,stream:e,readableObjectMode:t,lines:s,encoding:o,fdNumber:n}))}},wi=async e=>{try{return await e}catch(t){return md(t)}},md=({bufferedData:e})=>us(e)?new Uint8Array(e):e});var gd,Ct,Mw,Uw,Lw,_w,Fw,xi,hn,hd,gn=u(()=>{gd=require("node:stream/promises"),Ct=async(e,t,r,{isSameDirection:n,stopOnExit:o=!1}={})=>{let i=Mw(e,r),s=new AbortController;try{await Promise.race([...o?[r.exitPromise]:[],(0,gd.finished)(e,{cleanup:!0,signal:s.signal})])}catch(a){i.stdinCleanedUp||_w(a,t,r,n)}finally{s.abort()}},Mw=(e,{originalStreams:[t],subprocess:r})=>{let n={stdinCleanedUp:!1};return e===t&&Uw(e,r,n),n},Uw=(e,t,r)=>{let{_destroy:n}=e;e._destroy=(...o)=>{Lw(t,r),n.call(e,...o)}},Lw=({exitCode:e,signalCode:t},r)=>{(e!==null||t!==null)&&(r.stdinCleanedUp=!0)},_w=(e,t,r,n)=>{if(!Fw(e,t,r,n))throw e},Fw=(e,t,r,n=!0)=>r.propagating?hd(e)||hn(e):(r.propagating=!0,xi(r,t)===n?hd(e):hn(e)),xi=({fileDescriptors:e},t)=>t!=="all"&&e[t].direction==="input",hn=e=>e?.code==="ERR_STREAM_PREMATURE_CLOSE",hd=e=>e?.code==="EPIPE"});var yd,$i,Ei=u(()=>{Si();gn();yd=({subprocess:e,encoding:t,buffer:r,maxBuffer:n,lines:o,stripFinalNewline:i,verboseInfo:s,streamInfo:a})=>e.stdio.map((c,f)=>$i({stream:c,fdNumber:f,encoding:t,buffer:r[f],maxBuffer:n[f],lines:o[f],allMixed:!1,stripFinalNewline:i,verboseInfo:s,streamInfo:a})),$i=async({stream:e,fdNumber:t,encoding:r,buffer:n,maxBuffer:o,lines:i,allMixed:s,stripFinalNewline:a,verboseInfo:c,streamInfo:f})=>{if(!e)return;let l=Ct(e,t,f);if(xi(f,t)){await l;return}let[d]=await Promise.all([pd({stream:e,onStreamEnd:l,fdNumber:t,encoding:r,buffer:n,maxBuffer:o,lines:i,allMixed:s,stripFinalNewline:a,verboseInfo:c,streamInfo:f}),l]);return d}});var bd,wd,Nw,Bw,vi=u(()=>{an();Ei();bd=({stdout:e,stderr:t},{all:r})=>r&&(e||t)?Ce([e,t].filter(Boolean)):void 0,wd=({subprocess:e,encoding:t,buffer:r,maxBuffer:n,lines:o,stripFinalNewline:i,verboseInfo:s,streamInfo:a})=>$i({...Nw(e,r),fdNumber:"all",encoding:t,maxBuffer:n[1]+n[2],lines:o[1]||o[2],allMixed:Bw(e),stripFinalNewline:i,verboseInfo:s,streamInfo:a}),Nw=({stdout:e,stderr:t,all:r},[,n,o])=>{let i=n||o;return i?n?o?{stream:r,buffer:i}:{stream:e,buffer:i}:{stream:t,buffer:i}:{stream:r,buffer:i}},Bw=({all:e,stdout:t,stderr:r})=>e&&t&&r&&t.readableObjectMode!==r.readableObjectMode});var Sd,xd,$d=u(()=>{ze();de();Sd=e=>We(e,"ipc"),xd=(e,t)=>{let r=Xt(e);J({type:"ipc",verboseMessage:r,fdNumber:"ipc",verboseInfo:t})}});var Ed,vd,Dd=u(()=>{ke();$d();ce();Qo();Ed=async({subprocess:e,buffer:t,maxBuffer:r,ipc:n,ipcOutput:o,verboseInfo:i})=>{if(!n)return o;let s=Sd(i),a=ae(t,"ipc"),c=ae(r,"ipc");for await(let f of Xo({anyProcess:e,channel:e.channel,isSubprocess:!1,ipc:n,shouldAwait:!1,reference:!0}))a&&(jl(e,o,c),o.push(f)),s&&xd(f,i);return o},vd=async(e,t)=>(await Promise.allSettled([e]),t)});var Ad,Td,jw,Ww,zw,Id=u(()=>{Ad=require("node:events");Oe();po();no();fo();se();C();Si();Dd();go();vi();Ei();Zo();gn();Td=async({subprocess:e,options:{encoding:t,buffer:r,maxBuffer:n,lines:o,timeoutDuration:i,cancelSignal:s,gracefulCancel:a,forceKillAfterDelay:c,stripFinalNewline:f,ipc:l,ipcInput:d},context:p,verboseInfo:m,fileDescriptors:g,originalStreams:b,onInternalError:D,controller:x})=>{let h=pf(e,p),S={originalStreams:b,fileDescriptors:g,subprocess:e,exitPromise:h,propagating:!1},A=yd({subprocess:e,encoding:t,buffer:r,maxBuffer:n,lines:o,stripFinalNewline:f,verboseInfo:m,streamInfo:S}),M=wd({subprocess:e,encoding:t,buffer:r,maxBuffer:n,lines:o,stripFinalNewline:f,verboseInfo:m,streamInfo:S}),q=[],ne=Ed({subprocess:e,buffer:r,maxBuffer:n,ipc:l,ipcOutput:q,verboseInfo:m}),fe=jw(b,e,S),K=Ww(g,S);try{return await Promise.race([Promise.all([{},hf(h),Promise.all(A),M,ne,al(e,d),...fe,...K]),D,zw(e,x),...rl(e,i,p,x),...mc({subprocess:e,cancelSignal:s,gracefulCancel:a,context:p,controller:x}),...Qc({subprocess:e,cancelSignal:s,gracefulCancel:a,forceKillAfterDelay:c,context:p,controller:x})])}catch(ut){return p.terminationReason??="other",Promise.all([{error:ut},h,Promise.all(A.map(U=>wi(U))),wi(M),vd(ne,q),Promise.allSettled(fe),Promise.allSettled(K)])}},jw=(e,t,r)=>e.map((n,o)=>n===t.stdio[o]?void 0:Ct(n,o,r)),Ww=(e,t)=>e.flatMap(({stdioItems:r},n)=>r.filter(({value:o,stream:i=o})=>Y(i,{checkOpen:!1})&&!V(i)).map(({type:o,value:i,stream:s=i})=>Ct(s,n,t,{isSameDirection:z.has(o),stopOnExit:o==="native"}))),zw=async(e,{signal:t})=>{let[r]=await(0,Ad.once)(e,"error",{signal:t});throw r}});var Od,Mt,st,yn=u(()=>{Je();Od=()=>({readableDestroy:new WeakMap,writableFinal:new WeakMap,writableDestroy:new WeakMap}),Mt=(e,t,r)=>{let n=e[r];n.has(t)||n.set(t,[]);let o=n.get(t),i=Z();return o.push(i),{resolve:i.resolve.bind(i),promises:o}},st=async({resolve:e,promises:t},r)=>{e();let[n]=await Promise.race([Promise.allSettled([!0,r]),Promise.all([!1,...t])]);return!n}});var Di,Ai,kd,Ti,Ii,bn,wn,Oi=u(()=>{Di=require("node:stream/promises");gn();Ai=async e=>{if(e!==void 0)try{await Ti(e)}catch{}},kd=async e=>{if(e!==void 0)try{await Ii(e)}catch{}},Ti=async e=>{await(0,Di.finished)(e,{cleanup:!0,readable:!1,writable:!0})},Ii=async e=>{await(0,Di.finished)(e,{cleanup:!0,readable:!0,writable:!1})},bn=async(e,t)=>{if(await e,t)throw t},wn=(e,t,r)=>{r&&!hn(r)?e.destroy(r):t&&e.destroy()}});var Rd,Pd,Cd,ki,Ri,Pi,Vw,Ci,Mi,Md,Ui=u(()=>{Rd=require("node:stream"),Pd=require("node:util");Te();he();mn();Je();yn();Oi();Cd=({subprocess:e,concurrentStreams:t,encoding:r},{from:n,binary:o=!0,preserveNewlines:i=!0}={})=>{let s=o||B.has(r),{subprocessStdout:a,waitReadableDestroy:c}=ki(e,n,t),{readableEncoding:f,readableObjectMode:l,readableHighWaterMark:d}=Ri(a,s),{read:p,onStdoutDataDone:m}=Pi({subprocessStdout:a,subprocess:e,binary:s,encoding:r,preserveNewlines:i}),g=new Rd.Readable({read:p,destroy:(0,Pd.callbackify)(Mi.bind(void 0,{subprocessStdout:a,subprocess:e,waitReadableDestroy:c})),highWaterMark:d,objectMode:l,encoding:f});return Ci({subprocessStdout:a,onStdoutDataDone:m,readable:g,subprocess:e}),g},ki=(e,t,r)=>{let n=Ze(e,t),o=Mt(r,n,"readableDestroy");return{subprocessStdout:n,waitReadableDestroy:o}},Ri=({readableEncoding:e,readableObjectMode:t,readableHighWaterMark:r},n)=>n?{readableEncoding:e,readableObjectMode:t,readableHighWaterMark:r}:{readableEncoding:e,readableObjectMode:!0,readableHighWaterMark:bi},Pi=({subprocessStdout:e,subprocess:t,binary:r,encoding:n,preserveNewlines:o})=>{let i=Z(),s=pn({subprocessStdout:e,subprocess:t,binary:r,shouldEncode:!r,encoding:n,preserveNewlines:o});return{read(){Vw(this,s,i)},onStdoutDataDone:i}},Vw=async(e,t,r)=>{try{let{value:n,done:o}=await t.next();o?r.resolve():e.push(n)}catch{}},Ci=async({subprocessStdout:e,onStdoutDataDone:t,readable:r,subprocess:n,subprocessStdin:o})=>{try{await Ii(e),await n,await Ai(o),await t,r.readable&&r.push(null)}catch(i){await Ai(o),Md(r,i)}},Mi=async({subprocessStdout:e,subprocess:t,waitReadableDestroy:r},n)=>{await st(r,t)&&(Md(e,n),await bn(t,n))},Md=(e,t)=>{wn(e,e.readable,t)}});var Ud,Li,Ld,_i,Fi,Gw,Hw,Ni,Bi,_d,ji=u(()=>{Ud=require("node:stream"),Li=require("node:util");he();yn();Oi();Ld=({subprocess:e,concurrentStreams:t},{to:r}={})=>{let{subprocessStdin:n,waitWritableFinal:o,waitWritableDestroy:i}=_i(e,r,t),s=new Ud.Writable({...Fi(n,e,o),destroy:(0,Li.callbackify)(Bi.bind(void 0,{subprocessStdin:n,subprocess:e,waitWritableFinal:o,waitWritableDestroy:i})),highWaterMark:n.writableHighWaterMark,objectMode:n.writableObjectMode});return Ni(n,s),s},_i=(e,t,r)=>{let n=fr(e,t),o=Mt(r,n,"writableFinal"),i=Mt(r,n,"writableDestroy");return{subprocessStdin:n,waitWritableFinal:o,waitWritableDestroy:i}},Fi=(e,t,r)=>({write:Gw.bind(void 0,e),final:(0,Li.callbackify)(Hw.bind(void 0,e,t,r))}),Gw=(e,t,r,n)=>{e.write(t,r)?n():e.once("drain",n)},Hw=async(e,t,r)=>{await st(r,t)&&(e.writable&&e.end(),await t)},Ni=async(e,t,r)=>{try{await Ti(e),t.writable&&t.end()}catch(n){await kd(r),_d(t,n)}},Bi=async({subprocessStdin:e,subprocess:t,waitWritableFinal:r,waitWritableDestroy:n},o)=>{await st(r,t),await st(n,t)&&(_d(e,o),await bn(t,o))},_d=(e,t)=>{wn(e,e.writable,t)}});var Fd,Nd,Bd,Yw,jd=u(()=>{Fd=require("node:stream"),Nd=require("node:util");Te();Ui();ji();Bd=({subprocess:e,concurrentStreams:t,encoding:r},{from:n,to:o,binary:i=!0,preserveNewlines:s=!0}={})=>{let a=i||B.has(r),{subprocessStdout:c,waitReadableDestroy:f}=ki(e,n,t),{subprocessStdin:l,waitWritableFinal:d,waitWritableDestroy:p}=_i(e,o,t),{readableEncoding:m,readableObjectMode:g,readableHighWaterMark:b}=Ri(c,a),{read:D,onStdoutDataDone:x}=Pi({subprocessStdout:c,subprocess:e,binary:a,encoding:r,preserveNewlines:s}),h=new Fd.Duplex({read:D,...Fi(l,e,d),destroy:(0,Nd.callbackify)(Yw.bind(void 0,{subprocessStdout:c,subprocessStdin:l,subprocess:e,waitReadableDestroy:f,waitWritableFinal:d,waitWritableDestroy:p})),readableHighWaterMark:b,writableHighWaterMark:l.writableHighWaterMark,readableObjectMode:g,writableObjectMode:l.writableObjectMode,encoding:m});return Ci({subprocessStdout:c,onStdoutDataDone:x,readable:h,subprocess:e,subprocessStdin:l}),Ni(l,h,c),h},Yw=async({subprocessStdout:e,subprocessStdin:t,subprocess:r,waitReadableDestroy:n,waitWritableFinal:o,waitWritableDestroy:i},s)=>{await Promise.all([Mi({subprocessStdout:e,subprocess:r,waitReadableDestroy:n},s),Bi({subprocessStdin:t,subprocess:r,waitWritableFinal:o,waitWritableDestroy:i},s)])}});var Wi,qw,Wd=u(()=>{Te();he();mn();Wi=(e,t,{from:r,binary:n=!1,preserveNewlines:o=!1}={})=>{let i=n||B.has(t),s=Ze(e,r),a=pn({subprocessStdout:s,subprocess:e,binary:i,shouldEncode:!0,encoding:t,preserveNewlines:o});return qw(a,s,e)},qw=async function*(e,t,r){try{yield*e}finally{t.readable&&t.destroy(),await r}}});var zd,Vd=u(()=>{yn();Ui();ji();jd();Wd();zd=(e,{encoding:t})=>{let r=Od();e.readable=Cd.bind(void 0,{subprocess:e,concurrentStreams:r,encoding:t}),e.writable=Ld.bind(void 0,{subprocess:e,concurrentStreams:r}),e.duplex=Bd.bind(void 0,{subprocess:e,concurrentStreams:r,encoding:t}),e.iterable=Wi.bind(void 0,e,t),e[Symbol.asyncIterator]=Wi.bind(void 0,e,t,{})}});var Gd,Kw,Jw,Hd=u(()=>{Gd=(e,t)=>{for(let[r,n]of Jw){let o=n.value.bind(t);Reflect.defineProperty(e,r,{...n,value:o})}},Kw=(async()=>{})().constructor.prototype,Jw=["then","catch","finally"].map(e=>[e,Reflect.getOwnPropertyDescriptor(Kw,e)])});var Yd,qd,Kd,Zw,Xw,Qw,e0,t0,Jd=u(()=>{Yd=require("node:events"),qd=require("node:child_process");Fr();jn();So();he();xo();ti();Dt();jr();kf();Mf();At();jf();ar();Yf();ad();vi();Id();Vd();Je();Hd();Kd=(e,t,r,n)=>{let{file:o,commandArguments:i,command:s,escapedCommand:a,startTime:c,verboseInfo:f,options:l,fileDescriptors:d}=Zw(e,t,r),{subprocess:p,promise:m}=Qw({file:o,commandArguments:i,options:l,startTime:c,verboseInfo:f,command:s,escapedCommand:a,fileDescriptors:d});return p.pipe=dn.bind(void 0,{source:p,sourcePromise:m,boundOptions:{},createNested:n}),Gd(p,m),X.set(p,{options:l,fileDescriptors:d}),p},Zw=(e,t,r)=>{let{command:n,escapedCommand:o,startTime:i,verboseInfo:s}=tr(e,t,r),{file:a,commandArguments:c,options:f}=Ir(e,t,r),l=Xw(f),d=Cf(l,s);return{file:a,commandArguments:c,command:n,escapedCommand:o,startTime:i,verboseInfo:s,options:l,fileDescriptors:d}},Xw=({timeout:e,signal:t,...r})=>{if(t!==void 0)throw new TypeError('The "signal" option has been renamed to "cancelSignal" instead.');return{...r,timeoutDuration:e}},Qw=({file:e,commandArguments:t,options:r,startTime:n,verboseInfo:o,command:i,escapedCommand:s,fileDescriptors:a})=>{let c;try{c=(0,qd.spawn)(...Or(e,t,r))}catch(g){return Of({error:g,command:i,escapedCommand:s,fileDescriptors:a,options:r,startTime:n,verboseInfo:o})}let f=new AbortController;(0,Yd.setMaxListeners)(Number.POSITIVE_INFINITY,f.signal);let l=[...c.stdio];Bf(c,a,f),Hf(c,r,f);let d={},p=Z();c.kill=fc.bind(void 0,{kill:c.kill.bind(c),options:r,onInternalError:p,context:d,controller:f}),c.all=bd(c,r),zd(c,r),Df(c,r);let m=e0({subprocess:c,options:r,startTime:n,verboseInfo:o,fileDescriptors:a,originalStreams:l,command:i,escapedCommand:s,context:d,onInternalError:p,controller:f});return{subprocess:c,promise:m}},e0=async({subprocess:e,options:t,startTime:r,verboseInfo:n,fileDescriptors:o,originalStreams:i,command:s,escapedCommand:a,context:c,onInternalError:f,controller:l})=>{let[d,[p,m],g,b,D]=await Td({subprocess:e,options:t,context:c,verboseInfo:n,fileDescriptors:o,originalStreams:i,onInternalError:f,controller:l});l.abort(),f.resolve();let x=g.map((A,M)=>ue(A,t,M)),h=ue(b,t,"all"),S=t0({errorInfo:d,exitCode:p,signal:m,stdio:x,all:h,ipcOutput:D,context:c,options:t,command:s,escapedCommand:a,startTime:r});return tt(S,n,t)},t0=({errorInfo:e,exitCode:t,signal:r,stdio:n,all:o,ipcOutput:i,context:s,options:a,command:c,escapedCommand:f,startTime:l})=>"error"in e?vt({error:e.error,command:c,escapedCommand:f,timedOut:s.terminationReason==="timeout",isCanceled:s.terminationReason==="cancel"||s.terminationReason==="gracefulCancel",isGracefullyCanceled:s.terminationReason==="gracefulCancel",isMaxBuffer:e.error instanceof Q,isForcefullyTerminated:s.isForcefullyTerminated,exitCode:t,signal:r,stdio:n,all:o,ipcOutput:i,options:a,startTime:l,isSync:!1}):Br({command:c,escapedCommand:f,stdio:n,all:o,ipcOutput:i,options:a,startTime:l})});var Sn,r0,n0,Zd=u(()=>{oe();ce();Sn=(e,t)=>{let r=Object.fromEntries(Object.entries(t).map(([n,o])=>[n,r0(n,e[n],o)]));return{...e,...r}},r0=(e,t,r)=>n0.has(e)&&I(t)&&I(r)?{...t,...r}:r,n0=new Set(["env",...Mn])});var we,o0,i0,Xd=u(()=>{oe();kn();ws();Sf();Jd();Zd();we=(e,t,r,n)=>{let o=(s,a,c)=>we(s,a,r,c),i=(...s)=>o0({mapArguments:e,deepOptions:r,boundOptions:t,setBoundExeca:n,createNested:o},...s);return n!==void 0&&n(i,o,t),i},o0=({mapArguments:e,deepOptions:t={},boundOptions:r={},setBoundExeca:n,createNested:o},i,...s)=>{if(I(i))return o(e,Sn(r,i),n);let{file:a,commandArguments:c,options:f,isSync:l}=i0({mapArguments:e,firstArgument:i,nextArguments:s,deepOptions:t,boundOptions:r});return l?wf(a,c,f):Kd(a,c,f,o)},i0=({mapArguments:e,firstArgument:t,nextArguments:r,deepOptions:n,boundOptions:o})=>{let i=ys(t)?bs(t,r):[t,...r],[s,a,c]=jt(...i),f=Sn(Sn(n,o),c),{file:l=s,commandArguments:d=a,options:p=f,isSync:m=!1}=e({file:s,commandArguments:a,options:f});return{file:l,commandArguments:d,options:p,isSync:m}}});var Qd,ep,tp,s0,a0,rp=u(()=>{Qd=({file:e,commandArguments:t})=>tp(e,t),ep=({file:e,commandArguments:t})=>({...tp(e,t),isSync:!0}),tp=(e,t)=>{if(t.length>0)throw new TypeError(`The command and its arguments must be passed as a single string: ${e} ${t}.`);let[r,...n]=s0(e);return{file:r,commandArguments:n}},s0=e=>{if(typeof e!="string")throw new TypeError(`The command must be a string: ${String(e)}.`);let t=e.trim();if(t==="")return[];let r=[];for(let n of t.split(a0)){let o=r.at(-1);o&&o.endsWith("\\")?r[r.length-1]=`${o.slice(0,-1)} ${n}`:r.push(n)}return r},a0=/ +/g});var np,op,c0,ip,l0,sp,ap=u(()=>{np=(e,t,r)=>{e.sync=t(c0,r),e.s=e.sync},op=({options:e})=>ip(e),c0=({options:e})=>({...ip(e),isSync:!0}),ip=e=>({options:{...l0(e),...e}}),l0=({input:e,inputFile:t,stdio:r})=>e===void 0&&t===void 0&&r===void 0?{stdin:"inherit"}:{},sp={preferLocal:!0}});var R,rT,nT,oT,iT,sT,aT,cT,lT,uT,zi=u(()=>{Xd();rp();ho();ap();ti();R=we(()=>({})),rT=we(()=>({isSync:!0})),nT=we(Qd),oT=we(ep),iT=we(nl),sT=we(op,{},sp,np),{sendMessage:aT,getOneMessage:cT,getEachMessage:lT,getCancelSignal:uT}=Af()});var cp={};Tn(cp,{macosAudioAPI:()=>f0});async function j(){Vi.default.existsSync(P)||(Vi.default.copyFileSync(u0,P),await R("chmod",["+x",P]))}function at({stderr:e}){if(e)throw new Error(e)}function Ue({stdout:e,stderr:t}){return at({stderr:t}),JSON.parse(e)}var Gi,Hi,Vi,u0,P,f0,lp=u(()=>{"use strict";Gi=O(require("path"));zi();Hi=require("@raycast/api"),Vi=O(require("fs")),u0=Gi.default.join(Hi.environment.assetsPath,"audio-devices"),P=Gi.default.join(Hi.environment.supportPath,"audio-devices");f0={async getAllDevices(){return await j(),Ue(await R(P,["list","--json"]))},async getInputDevices(){return await j(),Ue(await R(P,["list","--input","--json"]))},async getOutputDevices(){return await j(),Ue(await R(P,["list","--output","--json"]))},async getDefaultOutputDevice(){return await j(),Ue(await R(P,["output","get","--json"]))},async getDefaultInputDevice(){return await j(),Ue(await R(P,["input","get","--json"]))},async getDefaultSystemDevice(){return await j(),Ue(await R(P,["system","get","--json"]))},async setDefaultOutputDevice(e){return await j(),at(await R(P,["output","set",e]))},async setDefaultInputDevice(e){return await j(),at(await R(P,["input","set",e]))},async setDefaultSystemDevice(e){return await j(),at(await R(P,["system","set",e]))},async getOutputDeviceVolume(e){await j();let{stdout:t,stderr:r}=await R(P,["volume","get",e]);return r?void 0:parseFloat(t)},async setOutputDeviceVolume(e,t){return await j(),at(await R(P,["volume","set",e,`${t}`]))},async createAggregateDevice(e,t,r,n){return await j(),Ue(await R(P,["aggregate","create","--json",n?.multiOutput?"--multi-output":"",e,t,...r||[]].filter(Boolean)))},async destroyAggregateDevice(e){return await j(),at(await R(P,["aggregate","destroy",e]))}}});var fp={};Tn(fp,{windowsAudioAPI:()=>h0});async function up(){if(Ut)return Ut;try{await R("pwsh",["-NoProfile","-Command","exit 0"]),Ut="pwsh"}catch{Ut="powershell"}return Ut}function d0(e){return e.replace(/\x1B\[[0-9;]*m/g,"")}async function Se(e){let t=await up();try{let{stdout:r}=await R(t,["-NoProfile","-Command",e]);return d0(r)}catch(r){let n=r.stderr||r.message||"PowerShell command failed";throw console.error("PowerShell command failed",{command:e,errorMessage:n}),new Error(n)}}function vn(){return xn||(xn=p0().catch(e=>{throw xn=null,e})),xn}async function p0(){let e=!1;try{let t=await Se("Get-Module -ListAvailable -Name AudioDeviceCmdlets | Select-Object -First 1 | ConvertTo-Json");e=!!(t&&t.trim()!==""&&t.trim()!=="null")}catch{e=!1}if(!e){(0,re.showToast)({style:re.Toast.Style.Animated,title:"Installing AudioDeviceCmdlets",message:"This may take a moment..."});try{let r=await up()==="pwsh"?"Install-PSResource -Name AudioDeviceCmdlets -Scope CurrentUser -TrustRepository -Quiet *>&1 | Out-String":"Set-PSRepository -Name PSGallery -InstallationPolicy Trusted; Install-Module -Name AudioDeviceCmdlets -Scope CurrentUser -Force -SkipPublisherCheck *>&1 | Out-String",n=await Se(r);n&&n.trim()&&console.log("Install-Module output:",n);let o=await Se("Get-Module -ListAvailable -Name AudioDeviceCmdlets | Select-Object -First 1 | ConvertTo-Json");if(!o||o.trim()===""||o.trim()==="null"){let i=await Se("$env:PSModulePath"),s=`Module not found after install. PSModulePath: ${i}`;throw console.error("AudioDeviceCmdlets missing after install",{modulePath:i,installOutput:n}),(0,re.showToast)({style:re.Toast.Style.Failure,title:"AudioDeviceCmdlets Install Failed",message:s}),new Error(s)}(0,re.showToast)({style:re.Toast.Style.Success,title:"AudioDeviceCmdlets Installed"})}catch(t){let r=t.message||"Unknown error";throw console.error("AudioDeviceCmdlets install failed",r),(0,re.showToast)({style:re.Toast.Style.Failure,title:"Installation Failed",message:r}),t}}}function Dn(e){return`$WarningPreference = 'SilentlyContinue'; Import-Module AudioDeviceCmdlets -ErrorAction Stop -WarningAction SilentlyContinue; ${e}`}async function $n(e){await vn();let t="Get-AudioDevice -List";e&&(t=`Get-AudioDevice -List | Where-Object { $_.Type -eq '${e}' }`);let r=await Se(Dn(`(${t} | ConvertTo-Json -Depth 3)`)),n=JSON.parse(r);return Array.isArray(n)?n:[n]}function ct(e,t){return{id:e.ID,uid:e.ID,name:e.Name,isInput:t==="input",isOutput:t==="output",transportType:m0(e.Name),index:e.Index,isDefault:e.Default,isCommunication:e.DefaultComm}}function m0(e){let t={"realtek digital":"spdif","digital output":"spdif","steam streaming":"virtual",nvidia:"hdmi",headphones:"headphones",headset:"headphones",earbuds:"headphones",airpods:"headphones",microphone:"microphone",speakers:"speakers",hdmi:"hdmi",displayport:"displayport",usb:"usb",bluetooth:"bluetooth",mic:"microphone",speaker:"speakers",spdif:"spdif",optical:"spdif",dp:"displayport",virtual:"virtual"},r=e.toLowerCase();for(let[n,o]of Object.entries(t))if(r.includes(n))return o;return"speakers"}async function En(e,t,r=!1){await vn();let o=`Set-AudioDevice -ID '${e.replace(/'/g,"''")}' ${r?"-CommunicationOnly":"-DefaultOnly"}`;await Se(Dn(o))}var re,Ut,xn,h0,dp=u(()=>{"use strict";zi();re=require("@raycast/api"),Ut=null;xn=null;h0={async getAllDevices(){let e=await $n("Playback"),t=await $n("Recording"),r=e.map(o=>ct(o,"output")),n=t.map(o=>ct(o,"input"));return[...r,...n]},async getInputDevices(){return(await $n("Recording")).map(t=>ct(t,"input"))},async getOutputDevices(){return(await $n("Playback")).map(t=>ct(t,"output"))},async getDefaultOutputDevice(){await vn();let t=await Se(Dn("(Get-AudioDevice -List | Where-Object { $_.Type -eq 'Playback' -and $_.Default -eq $true } | ConvertTo-Json)"));if(!t||t.trim()===""||t==="null")throw new Error("No default output device found");let r=JSON.parse(t);if(!r||!r.ID)throw new Error("No valid default output device found");return ct(r,"output")},async getDefaultInputDevice(){await vn();let t=await Se(Dn("(Get-AudioDevice -List | Where-Object { $_.Type -eq 'Recording' -and $_.Default -eq $true } | ConvertTo-Json)"));if(!t||t.trim()===""||t==="null")throw new Error("No default input device found");let r=JSON.parse(t);if(!r||!r.ID)throw new Error("No valid default input device found");return ct(r,"input")},async setDefaultOutputDevice(e){await En(e,"output",!1)},async setDefaultInputDevice(e){await En(e,"input",!1)},async setDefaultCommunicationOutputDevice(e){await En(e,"output",!0)},async setDefaultCommunicationInputDevice(e){await En(e,"input",!0)},async getOutputDeviceVolume(){},async setOutputDeviceVolume(){return Promise.resolve()}}});var R0={};Tn(R0,{default:()=>Cp});module.exports=Wp(R0);var y=require("@raycast/api");var $=O(require("react")),v=require("@raycast/api");var ts=Object.prototype.hasOwnProperty;function Ft(e,t){var r,n;if(e===t)return!0;if(e&&t&&(r=e.constructor)===t.constructor){if(r===Date)return e.getTime()===t.getTime();if(r===RegExp)return e.toString()===t.toString();if(r===Array){if((n=e.length)===t.length)for(;n--&&Ft(e[n],t[n]););return n===-1}if(!r||typeof e=="object"){n=0;for(r in e)if(ts.call(e,r)&&++n&&!ts.call(t,r)||!(r in t)||!Ft(e[r],t[r]))return!1;return Object.keys(t).length===n}}return e!==e&&t!==t}var ve=O(require("node:fs")),Nt=O(require("node:path"));var is=require("react/jsx-runtime");function zp(e){let t=(0,$.useRef)(e),r=(0,$.useRef)(0);return Ft(e,t.current)||(t.current=e,r.current+=1),(0,$.useMemo)(()=>t.current,[r.current])}function F(e){let t=(0,$.useRef)(e);return t.current=e,t}function Vp(e,t){let r=e instanceof Error?e.message:String(e);return(0,v.showToast)({style:v.Toast.Style.Failure,title:t?.title??"Something went wrong",message:t?.message??r,primaryAction:t?.primaryAction??rs(e),secondaryAction:t?.primaryAction?rs(e):void 0})}var rs=e=>{let t=!0,r="[Extension Name]...",n="";try{let s=JSON.parse((0,ve.readFileSync)((0,Nt.join)(v.environment.assetsPath,"..","package.json"),"utf8"));r=`[${s.title}]...`,n=`https://raycast.com/${s.owner||s.author}/${s.name}`,(!s.owner||s.access==="public")&&(t=!1)}catch{}let o=v.environment.isDevelopment||t,i=e instanceof Error?e?.stack||e?.message||"":String(e);return{title:o?"Copy Logs":"Report Error",onAction(s){s.hide(),o?v.Clipboard.copy(i):(0,v.open)(`https://github.com/raycast/extensions/issues/new?&labels=extension%2Cbug&template=extension_bug_report.yml&title=${encodeURIComponent(r)}&extension-url=${encodeURI(n)}&description=${encodeURIComponent(`#### Error:
\`\`\`
${i}
\`\`\`
`)}`)}}};function Bt(e,t,r){let n=(0,$.useRef)(0),[o,i]=(0,$.useState)({isLoading:!0}),s=F(e),a=F(r?.abortable),c=F(t||[]),f=F(r?.onError),l=F(r?.onData),d=F(r?.onWillExecute),p=F(r?.failureToastOptions),m=F(o.data),g=(0,$.useRef)(null),b=(0,$.useRef)({page:0}),D=(0,$.useRef)(!1),x=(0,$.useRef)(!0),h=(0,$.useRef)(50),S=(0,$.useCallback)(()=>(a.current&&(a.current.current?.abort(),a.current.current=new AbortController),++n.current),[a]),A=(0,$.useCallback)((...U)=>{let L=S();d.current?.(U),i(E=>({...E,isLoading:!0}));let _e=Gp(s.current)(...U);function Fe(E){return E.name=="AbortError"||L===n.current&&(f.current?f.current(E):v.environment.launchType!==v.LaunchType.Background&&Vp(E,{title:"Failed to fetch latest data",primaryAction:{title:"Retry",onAction(Ee){Ee.hide(),g.current?.(...c.current||[])}},...p.current}),i({error:E,isLoading:!1})),E}return typeof _e=="function"?(D.current=!0,_e(b.current).then(({data:E,hasMore:Ee,cursor:Up})=>(L===n.current&&(b.current&&(b.current.cursor=Up,b.current.lastItem=E?.[E.length-1]),l.current&&l.current(E,b.current),Ee&&(h.current=E.length),x.current=Ee,i(Lp=>b.current.page===0?{data:E,isLoading:!1}:{data:(Lp.data||[])?.concat(E),isLoading:!1})),E),E=>(x.current=!1,Fe(E)))):(D.current=!1,_e.then(E=>(L===n.current&&(l.current&&l.current(E),i({data:E,isLoading:!1})),E),Fe))},[l,f,c,s,i,g,d,b,p,S]);g.current=A;let M=(0,$.useCallback)(()=>{b.current={page:0};let U=c.current||[];return A(...U)},[A,c]),q=(0,$.useCallback)(async(U,L)=>{let _e;try{if(L?.optimisticUpdate){S(),typeof L?.rollbackOnError!="function"&&L?.rollbackOnError!==!1&&(_e=structuredClone(m.current?.value));let Fe=L.optimisticUpdate;i(E=>({...E,data:Fe(E.data)}))}return await U}catch(Fe){if(typeof L?.rollbackOnError=="function"){let E=L.rollbackOnError;i(Ee=>({...Ee,data:E(Ee.data)}))}else L?.optimisticUpdate&&L?.rollbackOnError!==!1&&i(E=>({...E,data:_e}));throw Fe}finally{L?.shouldRevalidateAfter!==!1&&(v.environment.launchType===v.LaunchType.Background||v.environment.commandMode==="menu-bar"?await M():M())}},[M,m,i,S]),ne=(0,$.useCallback)(()=>{b.current.page+=1;let U=c.current||[];A(...U)},[b,c,A]);(0,$.useEffect)(()=>{b.current={page:0},r?.execute!==!1?A(...t||[]):S()},[zp([t,r?.execute,A]),a,b]),(0,$.useEffect)(()=>()=>{S()},[S]);let fe=r?.execute!==!1?o.isLoading:!1,K={...o,isLoading:fe},ut=D.current?{pageSize:h.current,hasMore:x.current,onLoadMore:ne}:void 0;return{...K,revalidate:M,mutate:q,pagination:ut}}function Gp(e){return e===Promise.all||e===Promise.race||e===Promise.resolve||e===Promise.reject?e.bind(Promise):e}function Hp(e,t){let r=this[e];return r instanceof Date?`__raycast_cached_date__${r.toISOString()}`:Buffer.isBuffer(r)?`__raycast_cached_buffer__${r.toString("base64")}`:t}function Yp(e,t){return typeof t=="string"&&t.startsWith("__raycast_cached_date__")?new Date(t.replace("__raycast_cached_date__","")):typeof t=="string"&&t.startsWith("__raycast_cached_buffer__")?Buffer.from(t.replace("__raycast_cached_buffer__",""),"base64"):t}var qp=Symbol("cache without namespace"),ns=new Map;function Kp(e,t,r){let n=r?.cacheNamespace||qp,o=ns.get(n)||ns.set(n,new v.Cache({namespace:r?.cacheNamespace})).get(n);if(!o)throw new Error("Missing cache");let i=F(e),s=F(t),a=(0,$.useSyncExternalStore)(o.subscribe,()=>{try{return o.get(i.current)}catch(d){console.error("Could not get Cache data:",d);return}}),c=(0,$.useMemo)(()=>{if(typeof a<"u"){if(a==="undefined")return;try{return JSON.parse(a,Yp)}catch(d){return console.warn("The cached data is corrupted",d),s.current}}else return s.current},[a,s]),f=F(c),l=(0,$.useCallback)(d=>{let p=typeof d=="function"?d(f.current):d;if(typeof p>"u")o.set(i.current,"undefined");else{let m=JSON.stringify(p,Hp);o.set(i.current,m)}return p},[o,i,f]);return[c,l]}var Jp=10,os=864e5,Zp={Default:100,Embed:0,Bookmark:140};function Xp(e){let t=Date.now(),r=e?e.lastVisited:0,n=e?e.frecency:0,o=(t-r)/os,i=Math.log(2)/(Jp*os),s=Zp.Default*Math.exp(-i*o),a=n+s;return{lastVisited:t,frecency:a}}var Qp=e=>{if(process.env.NODE_ENV!=="production"&&(typeof e!="object"||!e||!("id"in e)||typeof e.id!="string"))throw new Error("Specify a key function or make sure your items have an 'id' property");return e.id};function ss(e,t){let r=F(t?.key||Qp),n=F(t?.sortUnvisited),[o,i]=Kp(`raycast_frecency_${t?.namespace}`,{}),s=(0,$.useCallback)(async function(l){let d=r.current(l);i(p=>{let m=p[d],g=Xp(m);return{...p,[d]:g}})},[r,i]),a=(0,$.useCallback)(async function(l){let d=r.current(l);i(p=>{let m={...p};return delete m[d],m})},[r,i]);return{data:(0,$.useMemo)(()=>e?e.sort((f,l)=>{let d=o[r.current(f)],p=o[r.current(l)];return d&&!p?-1:!d&&p?1:d&&p?p.frecency-d.frecency:n.current?n.current(f,l):0}):[],[o,e,r,n]),visitItem:s,resetRanking:a}}var kp=require("react");var lt=(h=>(h.Avb="avb",h.Aggregate="aggregate",h.Airplay="airplay",h.Autoaggregate="autoaggregate",h.Bluetooth="bluetooth",h.BluetoothLowEnergy="bluetoothle",h["Built-In"]="builtin",h.DisplayPort="displayport",h.Firewire="firewire",h.HDMI="hdmi",h.PCI="pci",h.Thunderbolt="thunderbolt",h.Usb="usb",h.Virtual="virtual",h.Unknown="unknown",h.Headphones="headphones",h.Microphone="microphone",h.Speakers="speakers",h.SPDIF="spdif",h))(lt||{}),Yi=process.platform==="win32"?"Windows":"macOS",pp=Yi==="macOS",xe=Yi==="Windows",Lt=null;async function An(){if(Lt)return Lt;if(pp){let{macosAudioAPI:e}=await Promise.resolve().then(()=>(lp(),cp));Lt=e}else if(xe){let{windowsAudioAPI:e}=await Promise.resolve().then(()=>(dp(),fp));Lt=e}else throw new Error(`Unsupported platform: ${Yi}`);return Lt}var qi=null;async function Le(){return qi||(qi=await An()),qi}async function mp(){return(await Le()).getInputDevices()}async function hp(){return(await Le()).getOutputDevices()}async function gp(){return(await Le()).getDefaultOutputDevice()}async function yp(){return(await Le()).getDefaultInputDevice()}async function bp(e){return(await Le()).setDefaultOutputDevice(e)}async function Ki(e){return(await Le()).setDefaultInputDevice(e)}async function wp(e){let t=await Le();return t.setDefaultSystemDevice?t.setDefaultSystemDevice(e):Promise.resolve()}var Sp=require("@raycast/api");async function Ji(e){let{systemOutput:t}=(0,Sp.getPreferenceValues)();await bp(e),t&&await wp(e)}var $e=require("@raycast/api"),g0="disabledDevices",y0="hiddenDevices",b0="showHiddenDevices",Zi={input:"hiddenDevicesInput",output:"hiddenDevicesOutput"},Xi={input:"showHiddenDevicesInput",output:"showHiddenDevicesOutput"};function $p(e){if(!e)return[];try{let t=JSON.parse(e);return Array.isArray(t)?t:[]}catch{return[]}}async function xp(e){return $p(await $e.LocalStorage.getItem(e))}async function Ep(e,t){await $e.LocalStorage.setItem(e,JSON.stringify(t))}function w0(...e){return Array.from(new Set(e.flat()))}async function S0(e){let t=await $e.LocalStorage.getItem(Zi[e]);if(t!=null)return $p(t);let r=await xp(y0),n=await xp(g0),o=w0(r,n);return o.length>0&&await Ep(Zi[e],o),o}async function Qi(e){return S0(e)}async function x0(e,t){await Ep(Zi[e],t)}async function vp(e,t){let r=await Qi(e),n=r.indexOf(t);n===-1?r.push(t):r.splice(n,1),await x0(e,r)}async function Dp(e){let t=await $e.LocalStorage.getItem(Xi[e]);if(t!=null)return t==="true";let r=await $e.LocalStorage.getItem(b0);return r!=null&&await $e.LocalStorage.setItem(Xi[e],r),r==="true"}async function Ap(e,t){await $e.LocalStorage.setItem(Xi[e],t?"true":"false")}function Tp(e){return Object.entries(lt).find(([,t])=>t===e.transportType)?.[0]}var Ip=require("@raycast/api");var Op=function(e,t){let n=`${Ip.environment.raycastVersion.includes("alpha")?"raycastinternal://":"raycast://"}extensions/benvp/audio-device/${e}`;if(t){let o=encodeURIComponent(JSON.stringify(t));return`${n}?context=${o}`}return n};var T=require("react/jsx-runtime");function Rp({ioType:e,deviceId:t,deviceName:r}){let{isLoading:n,data:o}=E0(e),{data:i,isLoading:s,revalidate:a}=Bt(Qi,[e]),{data:c,isLoading:f,revalidate:l}=Bt(Dp,[e]),{data:d,visitItem:p}=ss(o?.devices||[],{key:h=>h.uid});(0,kp.useEffect)(()=>{if(!t&&!r||!o?.devices)return;let h=null;if(t&&(h=o.devices.find(S=>S.id===t)),!h&&r&&(h=o.devices.find(S=>S.name===r)),!h){let S=t?`id ${t}`:`name "${r}"`;(0,y.showToast)(y.Toast.Style.Failure,"Error!",`The device with ${S} was not found.`);return}(async()=>{try{await(e==="input"?Ki(h.id):Ji(h.id)),p(h),(0,y.closeMainWindow)({clearRootSearch:!0}),(0,y.popToRoot)({clearSearchBar:!0}),(0,y.showHUD)(`Active ${e} audio device set to ${h.name}`)}catch(S){console.log(S),(0,y.showToast)(y.Toast.Style.Failure,"Error!",`There was an error setting the active ${e} audio device to ${h.name}`)}})()},[t,r,o,e,p]);let m=new Set(i??[]),g=c??!1,b=(d??[]).filter(h=>g||!m.has(h.uid)),D=n||s||f,x=!D&&b.length===0;return(0,T.jsx)(y.List,{isLoading:D,children:x?(0,T.jsx)(y.List.EmptyView,{title:g?"No devices found":"No visible devices",description:g?void 0:"Hidden devices are not shown. Toggle to manage hidden devices.",actions:(0,T.jsx)(y.ActionPanel,{children:(0,T.jsx)(Pp,{ioType:e,isShowing:g,onToggle:()=>void l()})})}):o&&b.map(h=>{let S=h.uid===o.current.uid,A=m.has(h.uid);return(0,T.jsx)(y.List.Item,{title:h.name,subtitle:Tp(h),icon:I0(h,h.uid===o.current.uid),actions:(0,T.jsx)(y.ActionPanel,{children:(0,T.jsx)($0,{ioType:e,device:h,isHidden:A,isShowingHidden:g,onSelection:()=>p(h),onHiddenChange:()=>void a(),onShowHiddenChange:()=>void l()})}),accessories:O0(S,A,g,h)},h.uid)})})}function $0({ioType:e,device:t,isHidden:r,isShowingHidden:n,onSelection:o,onHiddenChange:i,onShowHiddenChange:s}){return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(v0,{device:t,type:e,onSelection:o}),xe&&(0,T.jsx)(D0,{device:t,type:e,onSelection:o}),(0,T.jsx)(y.Action.CreateQuicklink,{quicklink:{name:`Set ${t.isOutput?"Output":"Input"} Device to ${t.name}`,link:Op(t.isOutput?"set-output-device":"set-input-device",{deviceId:t.id,deviceName:t.name})}}),(0,T.jsx)(y.Action.CopyToClipboard,{title:"Copy Device Name",content:t.name,shortcut:y.Keyboard.Shortcut.Common.Copy}),(0,T.jsx)(A0,{deviceId:t.uid,ioType:e,isHidden:r,onAction:i}),(0,T.jsx)(Pp,{ioType:e,isShowing:n,onToggle:s})]})}function E0(e){return Bt(async t=>{let r=await(t==="input"?mp():hp()),n=await(t==="input"?yp():gp());return{devices:r,current:n}},[e])}function v0({device:e,type:t,onSelection:r}){return(0,T.jsx)(y.Action,{title:`Set as ${t==="input"?"Input":"Output"} Device`,icon:{source:t==="input"?"mic.png":"speaker.png",tintColor:y.Color.PrimaryText},onAction:async()=>{try{await(t==="input"?Ki(e.id):Ji(e.id)),r?.(),(0,y.closeMainWindow)({clearRootSearch:!0}),(0,y.popToRoot)({clearSearchBar:!0}),(0,y.showHUD)(`Set "${e.name}" as ${t} device`)}catch(n){console.log(n),(0,y.showToast)(y.Toast.Style.Failure,`Failed setting "${e.name}" as ${t} device`)}}})}function D0({device:e,type:t,onSelection:r}){return(0,T.jsx)(y.Action,{title:`Set as ${t==="input"?"Input":"Output"} Communication Device`,icon:y.Icon.Phone,shortcut:null,onAction:async()=>{try{let n=await An();n.setDefaultCommunicationOutputDevice&&n.setDefaultCommunicationInputDevice&&(t==="input"?await n.setDefaultCommunicationInputDevice(e.id):await n.setDefaultCommunicationOutputDevice(e.id),r?.(),(0,y.closeMainWindow)({clearRootSearch:!0}),(0,y.popToRoot)({clearSearchBar:!0}),(0,y.showHUD)(`Set "${e.name}" as ${t} communication device`))}catch(n){console.log(n),(0,y.showToast)(y.Toast.Style.Failure,`Failed setting "${e.name}" as ${t} communication device`)}}})}function A0({deviceId:e,ioType:t,isHidden:r,onAction:n}){let o=r?"Show Device":"Hide Device",i=r?y.Icon.Eye:y.Icon.EyeDisabled;return(0,T.jsx)(y.Action,{title:o,icon:i,shortcut:null,onAction:async()=>{await vp(t,e),n()}})}function Pp({ioType:e,isShowing:t,onToggle:r}){return(0,T.jsx)(y.Action,{title:t?"Hide Hidden Devices":"Show Hidden Devices",icon:t?y.Icon.EyeDisabled:y.Icon.Eye,onAction:async()=>{await Ap(e,!t),r()}})}function T0(e){let t=e.name.toLowerCase();return e.transportType==="airplay"?"airplay.png":e.transportType==="bluetooth"||e.transportType==="bluetoothle"?t.includes("airpods max")?"airpods-max.png":t.includes("airpods pro")?"airpods-pro.png":t.includes("airpods")?"airpods.png":"bluetooth-speaker.png":xe&&e.transportType&&(e.transportType==="headphones"||e.transportType==="headphones")?"bluetooth-speaker.png":null}function I0(e,t){let r=T0(e);return r?{source:r,tintColor:t?y.Color.Green:y.Color.SecondaryText}:{source:e.isInput?"mic.png":"speaker.png",tintColor:t?y.Color.Green:y.Color.SecondaryText}}function O0(e,t,r,n){let o=[];if(e&&o.push({icon:y.Icon.Checkmark}),r&&t&&o.push({icon:y.Icon.EyeDisabled,tooltip:"Hidden"}),xe&&n?.isCommunication&&!e&&o.push({icon:y.Icon.Phone,tooltip:"Communication Device"}),xe&&n&&!e){let i=k0(n);i&&o.push({text:i})}return o}function k0(e){if(!e.transportType)return"";if(xe){let t={hdmi:"HDMI Output",displayport:"DisplayPort",usb:"USB Audio",bluetooth:"Bluetooth",headphones:"Headphones",headset:"Headset",microphone:"Microphone",mic:"Microphone",speakers:"Speakers",speaker:"Speakers",spdif:"Digital (SPDIF/Optical)",virtual:"Virtual Device",builtin:"Built-in Audio"},r=e.transportType.toLowerCase();return t[r]||e.transportType.charAt(0).toUpperCase()+e.transportType.slice(1)}return Object.entries(lt).find(([,t])=>t===e.transportType)?.[0]||""}var Mp=require("react/jsx-runtime");function Cp({launchContext:e}){return(0,Mp.jsx)(Rp,{ioType:"output",deviceId:e?.deviceId,deviceName:e?.deviceName})}
